(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{363:function(t,e,a){"use strict";a.r(e);var s=a(3),n=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"基础知识"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基础知识"}},[t._v("#")]),t._v(" 基础知识")]),t._v(" "),e("p",[t._v("正则表达式是用于匹配字符串中字符组合的模式，在 JavaScript 中，正则表达式也是对象。")]),t._v(" "),e("ul",[e("li",[t._v("正则表达式是在宿主环境下运行的，如"),e("code",[t._v("js/php/node.js")]),t._v(" 等")]),t._v(" "),e("li",[t._v("本章讲解的知识在其他语言中知识也是可用的，会有些函数使用上的区别")])]),t._v(" "),e("h3",{attrs:{id:"对比分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#对比分析"}},[t._v("#")]),t._v(" 对比分析")]),t._v(" "),e("p",[t._v("与普通函数操作字符串来比较，正则表达式可以写出更简洁、功能强大的代码。")]),t._v(" "),e("p",[t._v("下面使用获取字符串中的所有数字来比较函数与正则的差异。")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "houdunren2200hdcms9988";\nlet nums = [...hd].filter(a => !Number.isNaN(parseInt(a)));\nconsole.log(nums.join(""));\n')])])]),e("p",[t._v("使用正则表达式将简单得多")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "houdunren2200hdcms9988";\nconsole.log(hd.match(/\\d/g).join(""));\n')])])]),e("h3",{attrs:{id:"创建正则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建正则"}},[t._v("#")]),t._v(" 创建正则")]),t._v(" "),e("p",[t._v("JS 提供字面量与对象两种方式创建正则表达式")]),t._v(" "),e("h4",{attrs:{id:"字面量创建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字面量创建"}},[t._v("#")]),t._v(" 字面量创建")]),t._v(" "),e("p",[t._v("使用"),e("code",[t._v("//")]),t._v("包裹的字面量创建方式是推荐的作法，但它不能在其中使用变量")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "houdunren.com";\nconsole.log(/u/.test(hd));//true\n')])])]),e("p",[t._v("下面尝试使用 "),e("code",[t._v("a")]),t._v(" 变量时将不可以查询")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "houdunren.com";\nlet a = "u";\nconsole.log(/a/.test(hd)); //false\n')])])]),e("p",[t._v("虽然可以使用 "),e("code",[t._v("eval")]),t._v(" 转换为 js 语法来实现将变量解析到正则中，但是比较麻烦，所以有变量时建议使用下面的对象创建方式")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "houdunren.com";\nlet a = "u";\nconsole.log(eval(`/${a}/`).test(hd)); //true\n')])])]),e("h4",{attrs:{id:"对象创建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#对象创建"}},[t._v("#")]),t._v(" 对象创建")]),t._v(" "),e("p",[t._v("当正则需要动态创建时使用对象方式")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "houdunren.com";\nlet web = "houdunren";\nlet reg = new RegExp(web);\nconsole.log(reg.test(hd)); //true\n')])])]),e("p",[t._v("根据用户输入高亮显示内容，支持用户输入正则表达式")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n  &lt;div id="content">houdunren.com&lt;/div>\n&lt;/body>\n&lt;script>\n  const content = prompt("请输入要搜索的内容，支持正则表达式");\n  const reg = new RegExp(content, "g");\n  let body = document\n    .querySelector("#content")\n    .innerHTML.replace(reg, str => {\n      return `&lt;span style="color:red">${str}&lt;/span>`;\n    });\n  document.body.innerHTML = body;\n&lt;/script>\n')])])]),e("p",[t._v("通过对象创建正则提取标签")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n  &lt;h1>houdunren.com&lt;/h1>\n  &lt;h1>hdcms.com&lt;/h1>\n&lt;/body>\n\n&lt;script>\nfunction element(tag) {\n  const html = document.body.innerHTML;\n  let reg = new RegExp("&lt;(" + tag + ")>.+&lt;/\\\\1>", "g");\n  return html.match(reg);\n}\nconsole.table(element("h1"));\n')])])]),e("h3",{attrs:{id:"选择符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#选择符"}},[t._v("#")]),t._v(" 选择符")]),t._v(" "),e("p",[e("code",[t._v("|")]),t._v(" 这个符号带表选择修释符，也就是 "),e("code",[t._v("|")]),t._v(" 左右两侧有一个匹配到就可以。")]),t._v(" "),e("p",[t._v("检测电话是否是上海或北京的坐机")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let tel = "010-12345678";\n//错误结果：只匹配 | 左右两边任一结果\nconsole.log(tel.match(/010|020\\-\\d{7,8}/));\n\n//正确结果：所以需要放在原子组中使用\nconsole.log(tel.match(/(010|020)\\-\\d{7,8}/));\n')])])]),e("p",[t._v("匹配字符是否包含"),e("code",[t._v("houdunren")]),t._v(" 或 "),e("code",[t._v("hdcms")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('const hd = "houdunren";\nconsole.log(/houdunren|hdcms/.test(hd)); //true\n')])])]),e("h3",{attrs:{id:"字符转义"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字符转义"}},[t._v("#")]),t._v(" 字符转义")]),t._v(" "),e("p",[t._v("转义用于改变字符的含义，用来对某个字符有多种语义时的处理。")]),t._v(" "),e("p",[t._v("假如有这样的场景，如果我们想通过正则查找"),e("code",[t._v("/")]),t._v("符号，但是 "),e("code",[t._v("/")]),t._v("在正则中有特殊的意义。如果写成"),e("code",[t._v("///")]),t._v("这会造成解析错误，所以要使用转义语法 "),e("code",[t._v("/\\//")]),t._v("来匹配。")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('const url = "https://www.houdunren.com";\nconsole.log(/https:\\/\\//.test(url)); //true\n')])])]),e("p",[t._v("使用 "),e("code",[t._v("RegExp")]),t._v(" 构建正则时在转义上会有些区别，下面是对象与字面量定义正则时区别")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let price = 12.23;\n//含义1: . 除换行外任何字符 \t含义2: .普通点\n//含义1: d 字母d   \t\t\t\t\t含义2: \\d 数字 0~9\nconsole.log(/\\d+\\.\\d+/.test(price));\n\n//字符串中 \\d 与 d 是一样的，所以在 new RegExp 时\\d 即为 d\nconsole.log("\\d" == "d");\n\n//使用对象定义正则时，可以先把字符串打印一样，结果是字面量一样的定义就对了\nconsole.log("\\\\d+\\\\.\\\\d+");\nlet reg = new RegExp("\\\\d+\\\\.\\\\d+");\nconsole.log(reg.test(price));\n')])])]),e("p",[t._v("下面是网址检测中转义符使用")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let url = "https://www.houdunren.com";\nconsole.log(/https?:\\/\\/\\w+\\.\\w+\\.\\w+/.test(url));\n')])])]),e("h3",{attrs:{id:"字符边界"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字符边界"}},[t._v("#")]),t._v(" 字符边界")]),t._v(" "),e("p",[t._v("使用字符边界符用于控制匹配内容的开始与结束约定。")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("边界符")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("^")]),t._v(" "),e("td",[t._v("匹配字符串的开始")])]),t._v(" "),e("tr",[e("td",[t._v("$")]),t._v(" "),e("td",[t._v("匹配字符串的结束，忽略换行符")])])])]),t._v(" "),e("p",[t._v("匹配内容必须以"),e("code",[t._v("www")]),t._v("开始")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('const hd = "www.houdunren.com";\nconsole.log(/^www/.test(hd)); //true\n')])])]),e("p",[t._v("匹配内容必须以"),e("code",[t._v(".com")]),t._v("结束")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('const hd = "www.houdunren.com";\nconsole.log(/\\.com$/.test(hd)); //true\n')])])]),e("p",[t._v("检测用户名长度为 3~6 位，且只能为字母。如果不使用 "),e("code",[t._v("^与$")]),t._v(" 限制将得不到正确结果")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n  &lt;input type="text" name="username" />\n&lt;/body>\n\n&lt;script>\n  document\n    .querySelector(`[name="username"]`)\n    .addEventListener("keyup", function() {\n      let res = this.value.match(/^[a-z]{3,6}$/i);\n      console.log(res);\n      console.log(res ? "正确" : "失败");\n    });\n&lt;/script>\n')])])]),e("h2",{attrs:{id:"元子字符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#元子字符"}},[t._v("#")]),t._v(" 元子字符")]),t._v(" "),e("p",[t._v("元字符是正则表达式中的最小元素，只代表单一（一个）字符")]),t._v(" "),e("h3",{attrs:{id:"字符列表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字符列表"}},[t._v("#")]),t._v(" 字符列表")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("元字符")]),t._v(" "),e("th",[t._v("说明")]),t._v(" "),e("th",[t._v("示例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("\\d")]),t._v(" "),e("td",[t._v("匹配任意一个数字")]),t._v(" "),e("td",[t._v("[0-9]")])]),t._v(" "),e("tr",[e("td",[t._v("\\D")]),t._v(" "),e("td",[t._v("与除了数字以外的任何一个字符匹配")]),t._v(" "),e("td",[t._v("[^0-9]")])]),t._v(" "),e("tr",[e("td",[t._v("\\w")]),t._v(" "),e("td",[t._v("与任意一个英文字母,数字或下划线匹配")]),t._v(" "),e("td",[t._v("[a-zA-Z_]")])]),t._v(" "),e("tr",[e("td",[t._v("\\W")]),t._v(" "),e("td",[t._v("除了字母,数字或下划线外与任何字符匹配")]),t._v(" "),e("td",[t._v("[^a-za-z_]")])]),t._v(" "),e("tr",[e("td",[t._v("\\s")]),t._v(" "),e("td",[t._v("任意一个空白字符匹配，如空格，制表符"),e("code",[t._v("\\t")]),t._v("，换行符"),e("code",[t._v("\\n")])]),t._v(" "),e("td",[t._v("[\\n\\f\\r\\t\\v]")])]),t._v(" "),e("tr",[e("td",[t._v("\\S")]),t._v(" "),e("td",[t._v("除了空白符外任意一个字符匹配")]),t._v(" "),e("td",[t._v("[^\\n\\f\\r\\t\\v]")])]),t._v(" "),e("tr",[e("td",[t._v(".")]),t._v(" "),e("td",[t._v("匹配除换行符外的任意字符")]),t._v(" "),e("td")])])]),t._v(" "),e("h3",{attrs:{id:"使用体验"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用体验"}},[t._v("#")]),t._v(" 使用体验")]),t._v(" "),e("p",[t._v("匹配任意数字")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "houdunren 2010";\nconsole.log(hd.match(/\\d/g)); //["2", "0", "1", "0"]\n')])])]),e("p",[t._v("匹配所有电话号码")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("let hd = `\n\t张三:010-99999999,李四:020-88888888\n`;\n\nlet res = hd.match(/\\d{3}-\\d{7,8}/g);\nconsole.log(res);\n")])])]),e("p",[t._v("获取所有用户名")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("let hd = `\n张三:010-99999999,李四:020-88888888`;\nlet res = hd.match(/[^:\\d-,]+/g);\nconsole.log(res);\n")])])]),e("p",[t._v("匹配任意非数字")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("console.log(/\\D/.test(2029)); //false\n")])])]),e("p",[t._v("匹配字母数字下划线")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "hdcms@";\nconsole.log(hd.match(/\\w/g)); //["h", "d", "c", "m", "s"]\n')])])]),e("p",[t._v("匹配除了字母,数字或下划线外与任何字符匹配")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('console.log(/\\W/.test("@")); //true\n')])])]),e("p",[t._v("匹配与任意一个空白字符匹配")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('console.log(/\\s/.test(" ")); //true\nconsole.log(/\\s/.test("\\n")); //true\n')])])]),e("p",[t._v("匹配除了空白符外任意一个字符匹配")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "hdcms@";\nconsole.log(hd.match(/\\S/g)); //["2", "0", "1", "0","@"]\n')])])]),e("p",[t._v("如果要匹配点则需要转义")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("let hd = `houdunren@com`;\nconsole.log(/houdunren.com/i.test(hd)); //true\nconsole.log(/houdunren\\.com/i.test(hd)); //false\n")])])]),e("p",[t._v("使用"),e("code",[t._v(".")]),t._v("匹配除换行符外任意字符，下面匹配不到"),e("code",[t._v("hdcms.com")]),t._v(" 因为有换行符")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("const url = `\n  https://www.houdunren.com\n  hdcms.com\n`;\nconsole.log(url.match(/.+/)[0]);\n")])])]),e("p",[t._v("使用"),e("code",[t._v("/s")]),t._v("视为单行模式（忽略换行）时，"),e("code",[t._v(".")]),t._v(" 可以匹配所有")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("let hd = `\n  &lt;span>\n    houdunren\n    hdcms\n  &lt;/span>\n`;\nlet res = hd.match(/&lt;span>.*&lt;\\/span>/s);\nconsole.log(res[0]);\n")])])]),e("p",[t._v("正则中空格会按普通字符对待")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("let tel = `010 - 999999`;\nconsole.log(/\\d+-\\d+/.test(tel)); //false\nconsole.log(/\\d+ - \\d+/.test(tel)); //true\n")])])]),e("h3",{attrs:{id:"所有字符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#所有字符"}},[t._v("#")]),t._v(" 所有字符")]),t._v(" "),e("p",[t._v("可以使用 "),e("code",[t._v("[\\s\\S]")]),t._v(" 或 "),e("code",[t._v("[\\d\\D]")]),t._v(" 来匹配所有字符")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("let hd = `\n  &lt;span>\n    houdunren\n    hdcms\n  &lt;/span>\n`;\nlet res = hd.match(/&lt;span>[\\s\\S]+&lt;\\/span>/);\nconsole.log(res[0]);\n")])])]),e("h2",{attrs:{id:"模式修饰"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#模式修饰"}},[t._v("#")]),t._v(" 模式修饰")]),t._v(" "),e("p",[t._v("正则表达式在执行时会按他们的默认执行方式进行，但有时候默认的处理方式总不能满足我们的需求，所以可以使用模式修正符更改默认方式。")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("修饰符")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("i")]),t._v(" "),e("td",[t._v("不区分大小写字母的匹配")])]),t._v(" "),e("tr",[e("td",[t._v("g")]),t._v(" "),e("td",[t._v("全局搜索所有匹配内容")])]),t._v(" "),e("tr",[e("td",[t._v("m")]),t._v(" "),e("td",[t._v("视为多行")])]),t._v(" "),e("tr",[e("td",[t._v("s")]),t._v(" "),e("td",[t._v("视为单行忽略换行符，使用"),e("code",[t._v(".")]),t._v(" 可以匹配所有字符")])]),t._v(" "),e("tr",[e("td",[t._v("y")]),t._v(" "),e("td",[t._v("从 "),e("code",[t._v("regexp.lastIndex")]),t._v(" 开始匹配")])]),t._v(" "),e("tr",[e("td",[t._v("u")]),t._v(" "),e("td",[t._v("正确处理四个字符的 UTF-16 编码")])])])]),t._v(" "),e("h3",{attrs:{id:"i"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#i"}},[t._v("#")]),t._v(" i")]),t._v(" "),e("p",[t._v("将所有"),e("code",[t._v("houdunren.com")]),t._v(" 统一为小写")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "houdunren.com HOUDUNREN.COM";\nhd = hd.replace(/houdunren\\.com/gi, "houdunren.com");\nconsole.log(hd);\n')])])]),e("h3",{attrs:{id:"g"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#g"}},[t._v("#")]),t._v(" g")]),t._v(" "),e("p",[t._v("使用 "),e("code",[t._v("g")]),t._v(" 修饰符可以全局操作内容")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "houdunren";\nhd = hd.replace(/u/, "@");\nconsole.log(hd); //没有使用 g 修饰符是，只替换了第一个\n\nlet hd = "houdunren";\nhd = hd.replace(/u/g, "@");\nconsole.log(hd); //使用全局修饰符后替换了全部的 u\n')])])]),e("h3",{attrs:{id:"m"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#m"}},[t._v("#")]),t._v(" m")]),t._v(" "),e("p",[t._v("用于将内容视为多行匹配，主要是对 "),e("code",[t._v("^")]),t._v("和 "),e("code",[t._v("$")]),t._v(" 的修饰")]),t._v(" "),e("p",[t._v("将下面是将以 "),e("code",[t._v("#数字")]),t._v("开始的课程解析为对象结构，学习过后面讲到的原子组可以让代码简单些")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = `\n  #1 js,200元 #\n  #2 php,300元 #\n  #9 houdunren.com # 后盾人\n  #3 node.js,180元 #\n`;\n// [{name:\'js\',price:\'200元\'}]\nlet lessons = hd.match(/^\\s*#\\d+\\s+.+\\s+#$/gm).map(v => {\n  v = v.replace(/\\s*#\\d+\\s*/, "").replace(/\\s+#/, "");\n  [name, price] = v.split(",");\n  return { name, price };\n});\nconsole.log(JSON.stringify(lessons, null, 2));\n')])])]),e("h3",{attrs:{id:"u"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#u"}},[t._v("#")]),t._v(" u")]),t._v(" "),e("p",[t._v("每个字符都有属性，如"),e("code",[t._v("L")]),t._v("属性表示是字母，"),e("code",[t._v("P")]),t._v(" 表示标点符号，需要结合 "),e("code",[t._v("u")]),t._v(" 模式才有效。其他属性简写可以访问 "),e("a",{attrs:{href:"https://www.unicode.org/Public/UCD/latest/ucd/PropertyValueAliases.txt",target:"_blank",rel:"noopener noreferrer"}},[t._v("属性的别名 (opens new window)"),e("OutboundLink")],1),t._v("网站查看。")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('//使用\\p{L}属性匹配字母\nlet hd = "houdunren2010.不断发布教程，加油！";\nconsole.log(hd.match(/\\p{L}+/u));\n\n//使用\\p{P}属性匹配标点\nconsole.log(hd.match(/\\p{P}+/gu));\n')])])]),e("p",[t._v("字符也有 unicode 文字系统属性 "),e("code",[t._v("Script=文字系统")]),t._v("，下面是使用 "),e("code",[t._v("\\p{sc=Han}")]),t._v(" 获取中文字符 "),e("code",[t._v("han")]),t._v("为中文系统，其他语言请查看 "),e("a",{attrs:{href:"http://www.unicode.org/standard/supported.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("文字语言表(opens new window)"),e("OutboundLink")],1)]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("let hd = `\n张三:010-99999999,李四:020-88888888`;\nlet res = hd.match(/\\p{sc=Han}+/gu);\nconsole.log(res);\n")])])]),e("p",[t._v("使用 "),e("code",[t._v("u")]),t._v(" 模式可以正确处理四个字符的 UTF-16 字节编码")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let str = "𝒳𝒴";\nconsole.table(str.match(/[𝒳𝒴]/)); //结果为乱字符"�"\n\nconsole.table(str.match(/[𝒳𝒴]/u)); //结果正确 "𝒳"\n')])])]),e("h3",{attrs:{id:"lastindex"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lastindex"}},[t._v("#")]),t._v(" lastIndex")]),t._v(" "),e("p",[t._v("RegExp 对象"),e("code",[t._v("lastIndex")]),t._v(" 属性可以返回或者设置正则表达式开始匹配的位置")]),t._v(" "),e("ul",[e("li",[t._v("必须结合 "),e("code",[t._v("g")]),t._v(" 修饰符使用")]),t._v(" "),e("li",[t._v("对 "),e("code",[t._v("exec")]),t._v(" 方法有效")]),t._v(" "),e("li",[t._v("匹配完成时，"),e("code",[t._v("lastIndex")]),t._v(" 会被重置为 0")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("let hd = `后盾人不断分享视频教程，后盾人网址是 houdunren.com`;\nlet reg = /后盾人(.{2})/g;\nreg.lastIndex = 10; //从索引10开始搜索\nconsole.log(reg.exec(hd));\nconsole.log(reg.lastIndex);\n\nreg = /\\p{sc=Han}/gu;\nwhile ((res = reg.exec(hd))) {\n  console.log(res[0]);\n}\n")])])]),e("h3",{attrs:{id:"y"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#y"}},[t._v("#")]),t._v(" y")]),t._v(" "),e("p",[t._v("我们来对比使用 "),e("code",[t._v("y")]),t._v(" 与"),e("code",[t._v("g")]),t._v(" 模式，使用 "),e("code",[t._v("g")]),t._v(" 模式会一直匹配字符串")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "udunren";\nlet reg = /u/g;\nconsole.log(reg.exec(hd));\nconsole.log(reg.lastIndex); //3\nconsole.log(reg.exec(hd));\nconsole.log(reg.lastIndex); //3\nconsole.log(reg.exec(hd)); //null\nconsole.log(reg.lastIndex); //0\n')])])]),e("p",[t._v("但使用"),e("code",[t._v("y")]),t._v(" 模式后如果从 "),e("code",[t._v("lastIndex")]),t._v(" 开始匹配不成功就不继续匹配了")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "udunren";\nlet reg = /u/y;\nconsole.log(reg.exec(hd));\nconsole.log(reg.lastIndex); //1\nconsole.log(reg.exec(hd)); //null\nconsole.log(reg.lastIndex); //0\n')])])]),e("p",[t._v("因为使用 "),e("code",[t._v("y")]),t._v(" 模式可以在匹配不到时停止匹配，在匹配下面字符中的 qq 时可以提高匹配效率")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("let hd = `后盾人QQ群:11111111,999999999,88888888\n后盾人不断分享视频教程，后盾人网址是 houdunren.com`;\n\nlet reg = /(\\d+),?/y;\nreg.lastIndex = 7;\nwhile ((res = reg.exec(hd))) console.log(res[1]);\n")])])]),e("h2",{attrs:{id:"原子表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#原子表"}},[t._v("#")]),t._v(" 原子表")]),t._v(" "),e("p",[t._v("在一组字符中匹配某个元字符，在正则表达式中通过元字符表来完成，就是放到"),e("code",[t._v("[]")]),t._v(" (方括号)中。")]),t._v(" "),e("h3",{attrs:{id:"使用语法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用语法"}},[t._v("#")]),t._v(" 使用语法")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("原子表")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("[]")]),t._v(" "),e("td",[t._v("只匹配其中的一个原子")])]),t._v(" "),e("tr",[e("td",[t._v("[^]")]),t._v(" "),e("td",[t._v('只匹配"除了"其中字符的任意一个原子')])]),t._v(" "),e("tr",[e("td",[t._v("[0-9]")]),t._v(" "),e("td",[t._v("匹配 0-9 任何一个数字")])]),t._v(" "),e("tr",[e("td",[t._v("[a-z]")]),t._v(" "),e("td",[t._v("匹配小写 a-z 任何一个字母")])]),t._v(" "),e("tr",[e("td",[t._v("[A-Z]")]),t._v(" "),e("td",[t._v("匹配大写 A-Z 任何一个字母")])])])]),t._v(" "),e("h3",{attrs:{id:"实例操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实例操作"}},[t._v("#")]),t._v(" 实例操作")]),t._v(" "),e("p",[t._v("使用"),e("code",[t._v("[]")]),t._v("匹配其中任意字符即成功，下例中匹配"),e("code",[t._v("ue")]),t._v("任何一个字符，而不会当成一个整体来对待")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('const url = "houdunren.com";\nconsole.log(/ue/.test(url)); //false\nconsole.log(/[ue]/.test(url)); //true\n')])])]),e("p",[t._v("日期的匹配")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let tel = "2022-02-23";\nconsole.log(tel.match(/\\d{4}([-\\/])\\d{2}\\1\\d{2}/));\n')])])]),e("p",[t._v("获取"),e("code",[t._v("0~3")]),t._v("间的任意数字")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('const num = "2";\nconsole.log(/[0-3]/.test(num)); //true\n')])])]),e("p",[t._v("匹配"),e("code",[t._v("a~f")]),t._v("间的任意字符")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('const hd = "e";\nconsole.log(/[a-f]/.test(hd)); //true\n')])])]),e("p",[t._v("顺序为升序否则将报错")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('const num = "2";\nconsole.log(/[3-0]/.test(num)); //SyntaxError\n')])])]),e("p",[t._v("字母也要升序否则也报错")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('const hd = "houdunren.com";\nconsole.log(/[f-a]/.test(hd)); //SyntaxError\n')])])]),e("p",[t._v("获取所有用户名")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("let hd = `\n张三:010-99999999,李四:020-88888888`;\nlet res = hd.match(/[^:\\d-,]+/g);\nconsole.log(res);\n")])])]),e("p",[t._v("原子表中有些正则字符不需要转义，如果转义也是没问题的，可以理解为在原子表中"),e("code",[t._v(".")]),t._v(" 就是小数点")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let str = "(houdunren.com)+";\nconsole.table(str.match(/[().+]/g));\n\n//使用转义也没有问题\nconsole.table(str.match(/[\\(\\)\\.\\+]/g));\n')])])]),e("p",[t._v("可以使用 "),e("code",[t._v("[\\s\\S]")]),t._v(" 或 "),e("code",[t._v("[\\d\\D]")]),t._v("匹配到所有字符包括换行符")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("...\nconst reg = /[\\s\\S]+/g;\n...\n")])])]),e("p",[t._v("下面是使用原子表知识删除所有标题")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n  &lt;p>后盾人&lt;/p>\n  &lt;h1>houdunren.com&lt;/h1>\n  &lt;h2>hdcms.com&lt;/h2>\n&lt;/body>\n&lt;script>\n  const body = document.body;\n  const reg = /&lt;(h[1-6])>[\\s\\S]*&lt;\\/\\1>*/g;\n  let content = body.innerHTML.replace(reg, "");\n  document.body.innerHTML = content;\n&lt;/script>\n')])])]),e("h2",{attrs:{id:"原子组"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#原子组"}},[t._v("#")]),t._v(" 原子组")]),t._v(" "),e("ul",[e("li",[t._v("如果一次要匹配多个元子，可以通过元子组完成")]),t._v(" "),e("li",[t._v("原子组与原子表的差别在于原子组一次匹配多个元子，而原子表则是匹配任意一个字符")]),t._v(" "),e("li",[t._v("元字符组用 "),e("code",[t._v("()")]),t._v(" 包裹")])]),t._v(" "),e("p",[t._v("下面使用原子组匹配 "),e("code",[t._v("h1")]),t._v(" 标签，如果想匹配 "),e("code",[t._v("h2")]),t._v(" 只需要把前面原子组改为 "),e("code",[t._v("h2")]),t._v(" 即可。")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("const hd = `&lt;h1>houdunren.com&lt;/h1>`;\nconsole.log(/&lt;(h1)>.+&lt;\\/\\1>/.test(hd)); //true\n")])])]),e("h3",{attrs:{id:"基本使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本使用"}},[t._v("#")]),t._v(" 基本使用")]),t._v(" "),e("p",[t._v("没有添加 "),e("code",[t._v("g")]),t._v(" 模式修正符时只匹配到第一个，匹配到的信息包含以下数据")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("变量")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("0")]),t._v(" "),e("td",[t._v("匹配到的完整内容")])]),t._v(" "),e("tr",[e("td",[t._v("1,2....")]),t._v(" "),e("td",[t._v("匹配到的原子组")])]),t._v(" "),e("tr",[e("td",[t._v("index")]),t._v(" "),e("td",[t._v("原字符串中的位置")])]),t._v(" "),e("tr",[e("td",[t._v("input")]),t._v(" "),e("td",[t._v("原字符串")])]),t._v(" "),e("tr",[e("td",[t._v("groups")]),t._v(" "),e("td",[t._v("命名分组")])])])]),t._v(" "),e("p",[t._v("在"),e("code",[t._v("match")]),t._v("中使用原子组匹配，会将每个组数据返回到结果中")]),t._v(" "),e("ul",[e("li",[t._v("0 为匹配到的完成内容")]),t._v(" "),e("li",[t._v("1/2 等 为原子级内容")]),t._v(" "),e("li",[t._v("index 匹配的开始位置")]),t._v(" "),e("li",[t._v("input 原始数据")]),t._v(" "),e("li",[t._v("groups 组别名")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "houdunren.com";\nconsole.log(hd.match(/houdun(ren)\\.(com)/));\n//["houdunren.com", "ren", "com", index: 0, input: "houdunren.com", groups: undefined]\n')])])]),e("p",[t._v("下面使用原子组匹配标题元素")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("let hd = `\n  &lt;h1>houdunren&lt;/h1>\n  &lt;span>后盾人&lt;/span>\n  &lt;h2>hdcms&lt;/h2>\n`;\n\nconsole.table(hd.match(/&lt;(h[1-6])[\\s\\S]*&lt;\\/\\1>/g));\n")])])]),e("p",[t._v("检测 "),e("code",[t._v("0~100")]),t._v(" 的数值，使用 "),e("code",[t._v("parseInt")]),t._v(" 将数值转为 10 进制")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("console.log(/^(\\d{1,2}|100)$/.test(parseInt(09, 10)));\n")])])]),e("h3",{attrs:{id:"邮箱匹配"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#邮箱匹配"}},[t._v("#")]),t._v(" 邮箱匹配")]),t._v(" "),e("p",[t._v("下面使用原子组匹配邮箱")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "2300071698@qq.com";\nlet reg = /^[\\w\\-]+@[\\w\\-]+\\.(com|org|cn|cc|net)$/i;\nconsole.dir(hd.match(reg));\n')])])]),e("p",[t._v("如果邮箱是以下格式 "),e("code",[t._v("houdunren@hd.com.cn")]),t._v(" 上面规则将无效，需要定义以下方式")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("let hd = `admin@houdunren.com.cn`;\nlet reg = /^[\\w-]+@([\\w-]+\\.)+(org|com|cc|cn)$/;\nconsole.log(hd.match(reg));\n")])])]),e("h3",{attrs:{id:"引用分组"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#引用分组"}},[t._v("#")]),t._v(" 引用分组")]),t._v(" "),e("p",[e("code",[t._v("\\n")]),t._v(" 在匹配时引用原子组， "),e("code",[t._v("$n")]),t._v(" 指在替换时使用匹配的组数据。下面将标签替换为"),e("code",[t._v("p")]),t._v("标签")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("let hd = `\n  &lt;h1>houdunren&lt;/h1>\n  &lt;span>后盾人&lt;/span>\n  &lt;h2>hdcms&lt;/h2>\n`;\n\nlet reg = /&lt;(h[1-6])>([\\s\\S]*)&lt;\\/\\1>/gi;\nconsole.log(hd.replace(reg, `&lt;p>$2&lt;/p>`));\n")])])]),e("p",[t._v("如果只希望组参与匹配，便不希望返回到结果中使用 "),e("code",[t._v("(?:")]),t._v(" 处理。下面是获取所有域名的示例")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("let hd = `\n  https://www.houdunren.com\n  http://houdunwang.com\n  https://hdcms.com\n`;\n\nlet reg = /https?:\\/\\/((?:\\w+\\.)?\\w+\\.(?:com|org|cn))/gi;\nwhile ((v = reg.exec(hd))) {\n  console.dir(v);\n}\n")])])]),e("h3",{attrs:{id:"分组别名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分组别名"}},[t._v("#")]),t._v(" 分组别名")]),t._v(" "),e("p",[t._v("如果希望返回的组数据更清晰，可以为原子组编号，结果将保存在返回的 "),e("code",[t._v("groups")]),t._v("字段中")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "&lt;h1>houdunren.com&lt;/h1>";\nconsole.dir(hd.match(/&lt;(?&lt;tag>h[1-6])[\\s\\S]*&lt;\\/\\1>/));\n')])])]),e("p",[t._v("组别名使用 "),e("code",[t._v("?<>")]),t._v(" 形式定义，下面将标签替换为"),e("code",[t._v("p")]),t._v("标签")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("let hd = `\n  &lt;h1>houdunren&lt;/h1>\n  &lt;span>后盾人&lt;/span>\n  &lt;h2>hdcms&lt;/h2>\n`;\nlet reg = /&lt;(?&lt;tag>h[1-6])>(?&lt;con>[\\s\\S]*)&lt;\\/\\1>/gi;\nconsole.log(hd.replace(reg, `&lt;p>$&lt;con>&lt;/p>`));\n")])])]),e("p",[t._v("获取链接与网站名称组成数组集合")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n  &lt;a href="https://www.houdunren.com">后盾人&lt;/a>\n  &lt;a href="https://www.hdcms.com">hdcms&lt;/a>\n  &lt;a href="https://www.sina.com.cn">新浪&lt;/a>\n&lt;/body>\n\n&lt;script>\n  let body = document.body.innerHTML;\n  let reg = /&lt;a\\s*.+?(?&lt;link>https?:\\/\\/(\\w+\\.)+(com|org|cc|cn)).*>(?&lt;title>.+)&lt;\\/a>/gi;\n  const links = [];\n  for (const iterator of body.matchAll(reg)) {\n    links.push(iterator["groups"]);\n  }\n  console.log(links);\n&lt;/script>\n')])])]),e("h2",{attrs:{id:"重复匹配"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重复匹配"}},[t._v("#")]),t._v(" 重复匹配")]),t._v(" "),e("h3",{attrs:{id:"基本使用-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本使用-2"}},[t._v("#")]),t._v(" 基本使用")]),t._v(" "),e("p",[t._v("如果要重复匹配一些内容时我们要使用重复匹配修饰符，包括以下几种。")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("符号")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("*")]),t._v(" "),e("td",[t._v("重复零次或更多次")])]),t._v(" "),e("tr",[e("td",[t._v("+")]),t._v(" "),e("td",[t._v("重复一次或更多次")])]),t._v(" "),e("tr",[e("td",[t._v("?")]),t._v(" "),e("td",[t._v("重复零次或一次")])]),t._v(" "),e("tr",[e("td",[t._v("{n}")]),t._v(" "),e("td",[t._v("重复 n 次")])]),t._v(" "),e("tr",[e("td",[t._v("{n,}")]),t._v(" "),e("td",[t._v("重复 n 次或更多次")])]),t._v(" "),e("tr",[e("td",[t._v("{n,m}")]),t._v(" "),e("td",[t._v("重复 n 到 m 次")])])])]),t._v(" "),e("blockquote",[e("p",[t._v("因为正则最小单位是元字符，而我们很少只匹配一个元字符如 a、b 所以基本上重复匹配在每条正则语句中都是必用到的内容。")])]),t._v(" "),e("p",[t._v("默认情况下重复选项对单个字符进行重复匹配，即不是贪婪匹配")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "hdddd";\nconsole.log(hd.match(/hd+/i)); //hddd\n')])])]),e("p",[t._v("使用原子组后则对整个组重复匹配")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "hdddd";\nconsole.log(hd.match(/(hd)+/i)); //hd\n')])])]),e("p",[t._v("下面是验证坐机号的正则")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "010-12345678";\nconsole.log(/0\\d{2,3}-\\d{7,8}/.exec(hd));\n')])])]),e("p",[t._v("验证用户名只能为 3~8 位的字母或数字，并以字母开始")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n  &lt;input type="text" name="username" />\n&lt;/body>\n&lt;script>\n  let input = document.querySelector(`[name="username"]`);\n  input.addEventListener("keyup", e => {\n    const value = e.target.value;\n    let state = /^[a-z][\\w]{2,7}$/i.test(value);\n    console.log(\n      state ? "正确！" : "用户名只能为3~8位的字母或数字，并以字母开始"\n    );\n  });\n&lt;/script>\n')])])]),e("p",[t._v("验证密码必须包含大写字母并在 5~10 位之间")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n&lt;input type="text" name="password" />\n&lt;/body>\n&lt;script>\nlet input = document.querySelector(`[name="password"]`);\ninput.addEventListener("keyup", e => {\n  const value = e.target.value.trim();\n  const regs = [/^[a-zA-Z0-9]{5,10}$/, /[A-Z]/];\n  let state = regs.every(v => v.test(value));\n  console.log(state ? "正确！" : "密码必须包含大写字母并在5~10位之间");\n});\n&lt;/script>\n')])])]),e("h3",{attrs:{id:"禁止贪婪"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#禁止贪婪"}},[t._v("#")]),t._v(" 禁止贪婪")]),t._v(" "),e("p",[t._v("正则表达式在进行重复匹配时，默认是贪婪匹配模式，也就是说会尽量匹配更多内容，但是有的时候我们并不希望他匹配更多内容，这时可以通过?进行修饰来禁止重复匹配")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("使用")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("*?")]),t._v(" "),e("td",[t._v("重复任意次，但尽可能少重复")])]),t._v(" "),e("tr",[e("td",[t._v("+?")]),t._v(" "),e("td",[t._v("重复 1 次或更多次，但尽可能少重复")])]),t._v(" "),e("tr",[e("td",[t._v("??")]),t._v(" "),e("td",[t._v("重复 0 次或 1 次，但尽可能少重复")])]),t._v(" "),e("tr",[e("td",[t._v("{n,m}?")]),t._v(" "),e("td",[t._v("重复 n 到 m 次，但尽可能少重复")])]),t._v(" "),e("tr",[e("td",[t._v("{n,}?")]),t._v(" "),e("td",[t._v("重复 n 次以上，但尽可能少重复")])])])]),t._v(" "),e("p",[t._v("下面是禁止贪婪的语法例子")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let str = "aaa";\nconsole.log(str.match(/a+/)); //aaa\nconsole.log(str.match(/a+?/)); //a\nconsole.log(str.match(/a{2,3}?/)); //aa\nconsole.log(str.match(/a{2,}?/)); //aa\n')])])]),e("p",[t._v("将所有 span 更换为"),e("code",[t._v("h4")]),t._v(" 并描红，并在内容前加上 "),e("code",[t._v("后盾人-")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n  &lt;main>\n    &lt;span>houdunwang&lt;/span>\n    &lt;span>hdcms.com&lt;/span>\n    &lt;span>houdunren.com&lt;/span>\n  &lt;/main>\n&lt;/body>\n&lt;script>\n  const main = document.querySelector("main");\n  const reg = /&lt;span>([\\s\\S]+?)&lt;\\/span>/gi;\n  main.innerHTML = main.innerHTML.replace(reg, (v, p1) => {\n    console.log(p1);\n    return `&lt;h4 style="color:red">后盾人-${p1}&lt;/h4>`;\n  });\n&lt;/script>\n')])])]),e("p",[t._v("下面是使用禁止贪婪查找页面中的标题元素")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("&lt;body>\n  &lt;h1>\n    houdunren.com\n  &lt;/h1>\n  &lt;h2>hdcms.com&lt;/h2>\n  &lt;h3>&lt;/H3>\n  &lt;H1>&lt;/H1>\n&lt;/body>\n\n&lt;script>\n  let body = document.body.innerHTML;\n  let reg = /&lt;(h[1-6])>[\\s\\S]*?&lt;\\/\\1>/gi;\n  console.table(body.match(reg));\n&lt;/script>\n")])])]),e("h2",{attrs:{id:"全局匹配"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#全局匹配"}},[t._v("#")]),t._v(" 全局匹配")]),t._v(" "),e("h3",{attrs:{id:"问题分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#问题分析"}},[t._v("#")]),t._v(" 问题分析")]),t._v(" "),e("p",[t._v("下面是使用"),e("code",[t._v("match")]),t._v(" 全局获取页面中标签内容，但并不会返回匹配细节")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n  &lt;h1>houdunren.com&lt;/h1>\n  &lt;h2>hdcms.com&lt;/h2>\n  &lt;h1>后盾人&lt;/h1>\n&lt;/body>\n\n&lt;script>\n  function elem(tag) {\n    const reg = new RegExp("&lt;(" + tag + ")>.+?&lt;\\.\\\\1>", "g");\n    return document.body.innerHTML.match(reg);\n  }\n  console.table(elem("h1"));\n&lt;/script>\n')])])]),e("h3",{attrs:{id:"matchall"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#matchall"}},[t._v("#")]),t._v(" matchAll")]),t._v(" "),e("p",[t._v("在新浏览器中支持使用 "),e("code",[t._v("matchAll")]),t._v(" 操作，并返回迭代对象")]),t._v(" "),e("blockquote",[e("p",[t._v("需要添加 "),e("code",[t._v("g")]),t._v(" 修饰符")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let str = "houdunren";\nlet reg = /[a-z]/ig;\nfor (const iterator of str.matchAll(reg)) {\n  console.log(iterator);\n}\n')])])]),e("p",[t._v("在原型定义 "),e("code",[t._v("matchAll")]),t._v("方法，用于在旧浏览器中工作，不需要添加"),e("code",[t._v("g")]),t._v(" 模式运行")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('String.prototype.matchAll = function(reg) {\n  let res = this.match(reg);\n  if (res) {\n    let str = this.replace(res[0], "^".repeat(res[0].length));\n    let match = str.matchAll(reg) || [];\n    return [res, ...match];\n  }\n};\nlet str = "houdunren";\nconsole.dir(str.matchAll(/(U)/i));\n')])])]),e("h3",{attrs:{id:"exec"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#exec"}},[t._v("#")]),t._v(" exec")]),t._v(" "),e("p",[t._v("使用 "),e("code",[t._v("g")]),t._v(" 模式修正符并结合 "),e("code",[t._v("exec")]),t._v(" 循环操作可以获取结果和匹配细节")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("&lt;body>\n  &lt;h1>houdunren.com&lt;/h1>\n  &lt;h2>hdcms.com&lt;/h2>\n  &lt;h1>后盾人&lt;/h1>\n&lt;/body>\n&lt;script>\n  function search(string, reg) {\n    const matchs = [];\n    while ((data = reg.exec( string))) {\n      matchs.push(data);\n    }\n    return matchs;\n  }\n  console.log(search(document.body.innerHTML, /&lt;(h[1-6])>[\\s\\S]+?&lt;\\/\\1>/gi));\n&lt;/script>\n")])])]),e("p",[t._v("使用上面定义的函数来检索字符串中的网址")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("let hd = `https://hdcms.com\nhttps://www.sina.com.cn\nhttps://www.houdunren.com`;\n\nlet res = search(hd, /https?:\\/\\/(\\w+\\.)?(\\w+\\.)+(com|cn)/gi);\nconsole.dir(res);\n")])])]),e("h2",{attrs:{id:"字符方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字符方法"}},[t._v("#")]),t._v(" 字符方法")]),t._v(" "),e("p",[t._v("下面介绍的方法是 "),e("code",[t._v("String")]),t._v(" 提供的支持正则表达式的方法")]),t._v(" "),e("h3",{attrs:{id:"search"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#search"}},[t._v("#")]),t._v(" search")]),t._v(" "),e("p",[t._v("search() 方法用于检索字符串中指定的子字符串，也可以使用正则表达式搜索，返回值为索引位置")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let str = "houdunren.com";\nconsole.log(str.search("com"));\n')])])]),e("p",[t._v("使用正则表达式搜索")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("console.log(str.search(/\\.com/i));\n")])])]),e("h3",{attrs:{id:"match"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#match"}},[t._v("#")]),t._v(" match")]),t._v(" "),e("p",[t._v("直接使用字符串搜索")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let str = "houdunren.com";\nconsole.log(str.match("com"));\n')])])]),e("p",[t._v("使用正则获取内容，下面是简单的搜索字符串")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "houdunren";\nlet res = hd.match(/u/);\nconsole.log(res);\nconsole.log(res[0]); //匹配的结果\nconsole.log(res[index]); //出现的位置\n')])])]),e("p",[t._v("如果使用 "),e("code",[t._v("g")]),t._v(" 修饰符时，就不会有结果的详细信息了（可以使用 exec），下面是获取所有 h1~6 的标题元素")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("let body = document.body.innerHTML;\nlet result = body.match(/&lt;(h[1-6])>[\\s\\S]+?&lt;\\/\\1>/g);\nconsole.table(result);\n")])])]),e("h3",{attrs:{id:"matchall-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#matchall-2"}},[t._v("#")]),t._v(" matchAll")]),t._v(" "),e("p",[t._v("在新浏览器中支持使用 "),e("code",[t._v("matchAll")]),t._v(" 操作，并返回迭代对象")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let str = "houdunren";\nlet reg = /[a-z]/ig;\nfor (const iterator of str.matchAll(reg)) {\n  console.log(iterator);\n}\n')])])]),e("h3",{attrs:{id:"split"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#split"}},[t._v("#")]),t._v(" split")]),t._v(" "),e("p",[t._v("用于使用字符串或正则表达式分隔字符串，下面是使用字符串分隔日期")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let str = "2023-02-12";\nconsole.log(str.split("-")); //["2023", "02", "12"]\n')])])]),e("p",[t._v("如果日期的连接符不确定，那就要使用正则操作了")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let str = "2023/02-12";\nconsole.log(str.split(/-|\\//));\n')])])]),e("h3",{attrs:{id:"replace"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#replace"}},[t._v("#")]),t._v(" replace")]),t._v(" "),e("p",[e("code",[t._v("replace")]),t._v(" 方法不仅可以执行基本字符替换，也可以进行正则替换，下面替换日期连接符")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let str = "2023/02/12";\nconsole.log(str.replace(/\\//g, "-")); //2023-02-12\n')])])]),e("p",[t._v("替换字符串可以插入下面的特殊变量名：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("变量")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("$$")])]),t._v(" "),e("td",[t._v('插入一个 "$"。')])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("$&")])]),t._v(" "),e("td",[t._v("插入匹配的子串。")])]),t._v(" "),e("tr",[e("td",[t._v("$`")]),t._v(" "),e("td",[t._v("插入当前匹配的子串左边的内容。")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("$'")])]),t._v(" "),e("td",[t._v("插入当前匹配的子串右边的内容。")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("$n")])]),t._v(" "),e("td",[t._v("假如第一个参数是 "),e("code",[t._v("RegExp")]),t._v(" 对象，并且 n 是个小于 100 的非负整数，那么插入第 n 个括号匹配的字符串。提示：索引是从 1 开始")])])])]),t._v(" "),e("p",[t._v("在后盾人前后添加三个"),e("code",[t._v("=")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "=后盾人=";\nconsole.log(hd.replace(/后盾人/g, "$`$`$&amp;$\'$\'"));\n')])])]),e("p",[t._v("把电话号用 "),e("code",[t._v("-")]),t._v(" 连接")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "(010)99999999 (020)8888888";\nconsole.log(hd.replace(/\\((\\d{3,4})\\)(\\d{7,8})/g, "$1-$2"));\n')])])]),e("p",[t._v("把所有"),e("code",[t._v("教育")]),t._v("汉字加上链接 "),e("code",[t._v("https://www.houdunren.com")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n  在线教育是一种高效的学习方式，教育是一生的事业\n&lt;/body>\n&lt;script>\n  const body = document.body;\n  body.innerHTML = body.innerHTML.replace(\n    /教育/g,\n    `&lt;a href="https://www.houdunren.com">$&amp;&lt;/a>`\n  );\n&lt;/script>\n')])])]),e("p",[t._v("为链接添加上"),e("code",[t._v("https")]),t._v(" ，并补全 "),e("code",[t._v("www.")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n  &lt;main>\n    &lt;a style="color:red" href="http://www.hdcms.com">\n      开源系统\n    &lt;/a>\n    &lt;a id="l1" href="http://houdunren.com">后盾人&lt;/a>\n    &lt;a href="http://yahoo.com">雅虎&lt;/a>\n    &lt;h4>http://www.hdcms.com&lt;/h4>\n  &lt;/main>\n&lt;/body>\n&lt;script>\n  const main = document.querySelector("body main");\n  const reg = /(&lt;a.*href=[\'"])(http)(:\\/\\/)(www\\.)?(hdcms|houdunren)/gi;\n  main.innerHTML = main.innerHTML.replace(reg, (v, ...args) => {\n    args[1] += "s";\n    args[3] = args[3] || "www.";\n    return args.splice(0, 5).join("");\n  });\n&lt;/script>\n')])])]),e("p",[t._v("将标题标签全部替换为 "),e("code",[t._v("p")]),t._v(" 标签")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("&lt;body>\n  &lt;h1>houdunren.com&lt;/h1>\n  &lt;h2>hdcms.com&lt;/h2>\n  &lt;h1>后盾人&lt;/h1>\n&lt;/body>\n\n&lt;script>\n  const reg = /&lt;(h[1-6])>(.*?)&lt;\\/\\1>/g;\n  const body = document.body.innerHTML;\n  const html = body.replace(reg, function(str, tag, content) {\n    return `&lt;p>${content}&lt;/p>`;\n  });\n  document.body.innerHTML = html;\n&lt;/script>\n")])])]),e("p",[t._v("删除页面中的 "),e("code",[t._v("h1~h6")]),t._v(" 标签")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n  &lt;h1>houdunren.com&lt;/h1>\n  &lt;h2>hdcms.com&lt;/h2>\n  &lt;h1>后盾人&lt;/h1>\n&lt;/body>\n&lt;script>\n  const reg = /&lt;(h[1-6])>(.*?)&lt;\\/\\1>/g;\n  const body = document.body.innerHTML;\n  const html = body.replace(reg, "");\n  document.body.innerHTML = html;\n&lt;/script>\n')])])]),e("p",[e("strong",[t._v("回调函数")])]),t._v(" "),e("p",[t._v("replace 支持回调函数操作，用于处理复杂的替换逻辑")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("变量名")]),t._v(" "),e("th",[t._v("代表的值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("match")])]),t._v(" "),e("td",[t._v("匹配的子串。（对应于上述的$&。）")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("p1,p2, ...")])]),t._v(" "),e("td",[t._v("假如 replace()方法的第一个参数是一个 "),e("code",[t._v("RegExp")]),t._v(" 对象，则代表第 n 个括号匹配的字符串。（对应于上述的$1，$2 等。）例如，如果是用 "),e("code",[t._v("/(\\a+)(\\b+)/")]),t._v(" 这个来匹配，"),e("code",[t._v("p1")]),t._v(" 就是匹配的 "),e("code",[t._v("\\a+")]),t._v("，"),e("code",[t._v("p2")]),t._v(" 就是匹配的 "),e("code",[t._v("\\b+")]),t._v("。")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("offset")])]),t._v(" "),e("td",[t._v("匹配到的子字符串在原字符串中的偏移量。（比如，如果原字符串是 "),e("code",[t._v("'abcd'")]),t._v("，匹配到的子字符串是 "),e("code",[t._v("'bc'")]),t._v("，那么这个参数将会是 1）")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("string")])]),t._v(" "),e("td",[t._v("被匹配的原字符串。")])]),t._v(" "),e("tr",[e("td",[t._v("NamedCaptureGroup")]),t._v(" "),e("td",[t._v("命名捕获组匹配的对象")])])])]),t._v(" "),e("p",[t._v("使用回调函数将 "),e("code",[t._v("后盾人")]),t._v(" 添加上链接")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n  &lt;div class="content">\n    后盾人不断更新优质视频教程\n  &lt;/div>\n&lt;/body>\n\n&lt;script>\n  let content = document.querySelector(".content");\n  content.innerHTML = content.innerHTML.replace("后盾人", function(\n    search,\n    pos,\n    source\n  ) {\n    return `&lt;a href="https://www.houdunren.com">${search}&lt;/a>`;\n  });\n&lt;/script>\n')])])]),e("p",[t._v("为所有标题添加上 "),e("code",[t._v("hot")]),t._v(" 类")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n  &lt;div class="content">\n    &lt;h1>后盾人&lt;/h1>\n    &lt;h2>houdunren.com&lt;/h2>\n    &lt;h1>后盾人&lt;/h1>\n  &lt;/div>\n&lt;/body>\n&lt;script>\n  let content = document.querySelector(".content");\n  let reg = /&lt;(h[1-6])>([\\s\\S]*?)&lt;\\/\\1>/gi;\n  content.innerHTML = content.innerHTML.replace(\n    reg,\n    (\n      search, //匹配到的字符\n      p1, //第一个原子组\n      p2, //第二个原子组\n      index, //索引位置\n      source //原字符\n    ) => {\n      return `\n    &lt;${p1} class="hot">${p2}&lt;/${p1}>\n    `;\n    }\n  );\n&lt;/script>\n')])])]),e("h2",{attrs:{id:"正则方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#正则方法"}},[t._v("#")]),t._v(" 正则方法")]),t._v(" "),e("p",[t._v("下面是 "),e("code",[t._v("RegExp")]),t._v(" 正则对象提供的操作方法")]),t._v(" "),e("h3",{attrs:{id:"test"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#test"}},[t._v("#")]),t._v(" test")]),t._v(" "),e("p",[t._v("检测输入的邮箱是否合法")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n  &lt;input type="text" name="email" />\n&lt;/body>\n\n&lt;script>\n  let email = document.querySelector(`[name="email"]`);\n  email.addEventListener("keyup", e => {\n    console.log(/^\\w+@\\w+\\.\\w+$/.test(e.target.value));\n  });\n&lt;/script>\n')])])]),e("h3",{attrs:{id:"exec-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#exec-2"}},[t._v("#")]),t._v(" exec")]),t._v(" "),e("p",[t._v("不使用 "),e("code",[t._v("g")]),t._v(" 修饰符时与 "),e("code",[t._v("match")]),t._v(" 方法使用相似，使用 "),e("code",[t._v("g")]),t._v(" 修饰符后可以循环调用直到全部匹配完。")]),t._v(" "),e("ul",[e("li",[t._v("使用 "),e("code",[t._v("g")]),t._v(" 修饰符多次操作时使用同一个正则，即把正则定义为变量使用")]),t._v(" "),e("li",[t._v("使用 "),e("code",[t._v("g")]),t._v(" 修饰符最后匹配不到时返回 "),e("code",[t._v("null")])])]),t._v(" "),e("p",[t._v("计算内容中后盾人出现的次数")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n  &lt;div class="content">\n    后盾人不断分享视频教程，后盾人网址是 houdunren.com\n  &lt;/div>\n&lt;/body>\n\n&lt;script>\n  let content = document.querySelector(".content");\n  let reg = /(?&lt;tag>后盾)人/g;\n  let num = 0;\n  while ((result = reg.exec(content.innerHTML))) {\n    num++;\n  }\n  console.log(`后盾人共出现${num}次`);\n&lt;/script>\n')])])]),e("h2",{attrs:{id:"断言匹配"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#断言匹配"}},[t._v("#")]),t._v(" 断言匹配")]),t._v(" "),e("p",[t._v("断言虽然写在扩号中但它不是组，所以不会在匹配结果中保存，可以将断言理解为正则中的条件。")]),t._v(" "),e("h3",{attrs:{id:"exp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#exp"}},[t._v("#")]),t._v(" (?=exp)")]),t._v(" "),e("p",[e("strong",[t._v("零宽先行断言")]),t._v(" "),e("code",[t._v("?=exp")]),t._v(" 匹配后面为 "),e("code",[t._v("exp")]),t._v(" 的内容")]),t._v(" "),e("p",[t._v("把后面是"),e("code",[t._v("教程")]),t._v(" 的后盾人汉字加上链接")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n  &lt;main>\n    后盾人不断分享视频教程，学习后盾人教程提升编程能力。\n  &lt;/main>\n&lt;/body>\n\n&lt;script>\n  const main = document.querySelector("main");\n  const reg = /后盾人(?=教程)/gi;\n  main.innerHTML = main.innerHTML.replace(\n    reg,\n    v => `&lt;a href="https://houdunren.com">${v}&lt;/a>`\n  );\n&lt;/script>\n')])])]),e("p",[t._v("下面是将价格后面 添加上 "),e("code",[t._v(".00")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;script>\n  let lessons = `\n    js,200元,300次\n    php,300.00元,100次\n    node.js,180元,260次\n  `;\n  let reg = /(\\d+)(.00)?(?=元)/gi;\n  lessons = lessons.replace(reg, (v, ...args) => {\n    args[1] = args[1] || ".00";\n    return args.splice(0, 2).join("");\n  });\n  console.log(lessons);\n&lt;/script>\n')])])]),e("p",[t._v("使用断言验证用户名必须为五位，下面正则体现断言是不是组，并且不在匹配结果中记录")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n  &lt;input type="text" name="username" />\n&lt;/body>\n\n&lt;script>\n  document\n    .querySelector(`[name="username"]`)\n    .addEventListener("keyup", function() {\n      let reg = /^(?=[a-z]{5}$)/i;\n      console.log(reg.test(this.value));\n    });\n&lt;/script>\n')])])]),e("h3",{attrs:{id:"exp-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#exp-2"}},[t._v("#")]),t._v(" (?<=exp)")]),t._v(" "),e("p",[e("strong",[t._v("零宽后行断言")]),t._v(" "),e("code",[t._v("?<=exp")]),t._v(" 匹配前面为 "),e("code",[t._v("exp")]),t._v(" 的内容")]),t._v(" "),e("p",[t._v("匹配前面是"),e("code",[t._v("houdunren")]),t._v(" 的数字")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "houdunren789hdcms666";\nlet reg = /(?&lt;=houdunren)\\d+/i;\nconsole.log(hd.match(reg)); //789\n')])])]),e("p",[t._v("匹配前后都是数字的内容")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "houdunren789hdcms666";\nlet reg = /(?&lt;=\\d)[a-z]+(?=\\d{3})/i;\nconsole.log(hd.match(reg));\n')])])]),e("p",[t._v("所有超链接替换为"),e("code",[t._v("houdunren.com")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n  &lt;a href="https://baidu.com">百度&lt;/a>\n  &lt;a href="https://yahoo.com">雅虎&lt;/a>\n&lt;/body>\n&lt;script>\n  const body = document.body;\n  let reg = /(?&lt;=&lt;a.*href=([\'"])).+?(?=\\1)/gi;\n  // console.log(body.innerHTML.match(reg));\n  body.innerHTML = body.innerHTML.replace(reg, "https://houdunren.com");\n&lt;/script>\n')])])]),e("p",[t._v("下例中将 "),e("code",[t._v("后盾人")]),t._v(" 后面的视频添加上链接")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n  &lt;h1>后盾人视频不断录制案例丰富的视频教程&lt;/h1>\n&lt;/body>\n\n&lt;script>\n  let h1 = document.querySelector("h1");\n  let reg = /(?&lt;=后盾人)视频/;\n  h1.innerHTML = h1.innerHTML.replace(reg, str => {\n    return `&lt;a href="https://www.houdunren.com">${str}&lt;/a>`;\n  });\n&lt;/script>\n')])])]),e("p",[t._v("将电话的后四位模糊处理")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let users = `\n  向军电话: 12345678901\n  后盾人电话: 98745675603\n`;\n\nlet reg = /(?&lt;=\\d{7})\\d+\\s*/g;\nusers = users.replace(reg, str => {\n  return "*".repeat(4);\n});\nconsole.log(users); //向军电话: 1234567****后盾人电话: 9874567****\n')])])]),e("p",[t._v("获取标题中的内容")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("let hd = `&lt;h1>后盾人视频不断录制案例丰富的视频教程&lt;/h1>`;\nlet reg = /(?&lt;=&lt;h1>).*(?=&lt;\\/h1>)/g;\nconsole.log(hd.match(reg));\n")])])]),e("h3",{attrs:{id:"exp-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#exp-3"}},[t._v("#")]),t._v(" (?!exp)")]),t._v(" "),e("p",[e("strong",[t._v("零宽负向先行断言")]),t._v(" 后面不能出现 "),e("code",[t._v("exp")]),t._v(" 指定的内容")]),t._v(" "),e("p",[t._v("使用 "),e("code",[t._v("(?!exp)")]),t._v("字母后面不能为两位数字")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "houdunren12";\nlet reg = /[a-z]+(?!\\d{2})$/i;\nconsole.table(reg.exec(hd));\n')])])]),e("p",[t._v("下例为用户名中不能出现"),e("code",[t._v("向军")])]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n  &lt;main>\n    &lt;input type="text" name="username" />\n  &lt;/main>\n&lt;/body>\n&lt;script>\n  const input = document.querySelector(`[name="username"]`);\n  input.addEventListener("keyup", function() {\n    const reg = /^(?!.*向军.*)[a-z]{5,6}$/i;\n    console.log(this.value.match(reg));\n  });\n&lt;/script>\n')])])]),e("h3",{attrs:{id:"exp-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#exp-4"}},[t._v("#")]),t._v(" (?<!exp)")]),t._v(" "),e("p",[e("strong",[t._v("零宽负向后行断言")]),t._v(" 前面不能出现 exp 指定的内容")]),t._v(" "),e("p",[t._v("获取前面不是数字的字符")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('let hd = "hdcms99houdunren";\nlet reg = /(?&lt;!\\d+)[a-z]+/i;\nconsole.log(reg.exec(hd)); //hdcms\n')])])]),e("p",[t._v("把所有不是以 "),e("code",[t._v("https://oss.houdunren.com")]),t._v(" 开始的静态资源替换为新网址")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('&lt;body>\n  &lt;main>\n    &lt;a href="https://www.houdunren.com/1.jpg">1.jpg&lt;/a>\n    &lt;a href="https://oss.houdunren.com/2.jpg">2.jpg&lt;/a>\n    &lt;a href="https://cdn.houdunren.com/2.jpg">3.jpg&lt;/a>\n    &lt;a href="https://houdunren.com/2.jpg">3.jpg&lt;/a>\n  &lt;/main>\n&lt;/body>\n&lt;script>\n  const main = document.querySelector("main");\n  const reg = /https:\\/\\/(\\w+)?(?&lt;!oss)\\..+?(?=\\/)/gi;\n  main.innerHTML = main.innerHTML.replace(reg, v => {\n    console.log(v);\n    return "https://oss.houdunren.com";\n  });\n&lt;/script>\n')])])])])}),[],!1,null,null,null);e.default=n.exports}}]);