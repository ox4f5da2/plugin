(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{351:function(t,s,a){"use strict";a.r(s);var n=a(3),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"vue-æ•°æ®å“åº”å¼åŸç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-æ•°æ®å“åº”å¼åŸç†"}},[t._v("#")]),t._v(" Vue æ•°æ®å“åº”å¼åŸç†")]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#å“åº”å¼åŸç†ä»‹ç»"}},[t._v("å“åº”å¼åŸç†ä»‹ç»")]),s("ul",[s("li",[s("a",{attrs:{href:"#æ£€æµ‹å˜åŒ–çš„æ³¨æ„äº‹é¡¹"}},[t._v("æ£€æµ‹å˜åŒ–çš„æ³¨æ„äº‹é¡¹")])]),s("li",[s("a",{attrs:{href:"#é¢å¤–è¡¥å……"}},[t._v("é¢å¤–è¡¥å……")])])])]),s("li",[s("a",{attrs:{href:"#_1-æ‰‹å†™æ€»ä½“æ¦‚è¿°"}},[t._v("1. æ‰‹å†™æ€»ä½“æ¦‚è¿°")]),s("ul",[s("li",[s("a",{attrs:{href:"#_1-1-è·å–ç”¨æˆ·çš„-data-å€¼"}},[t._v("1.1 è·å–ç”¨æˆ·çš„ data å€¼")])]),s("li",[s("a",{attrs:{href:"#_1-2-ä»£ç†-data-æ•°æ®"}},[t._v("1.2 ä»£ç† $data æ•°æ®")])]),s("li",[s("a",{attrs:{href:"#_1-3-æ•°æ®åŠ«æŒ-å¯¹è±¡"}},[t._v("1.3 æ•°æ®åŠ«æŒâ€”â€”å¯¹è±¡")])]),s("li",[s("a",{attrs:{href:"#_1-4-æ•°æ®åŠ«æŒ-æ•°ç»„"}},[t._v("1.4 æ•°æ®åŠ«æŒâ€”â€”æ•°ç»„")])]),s("li",[s("a",{attrs:{href:"#_1-5-ç»™æ¯ä¸ªè§‚æµ‹è¿‡çš„å¯¹è±¡åŠ ä¸Šæ ‡è¯†ç¬¦"}},[t._v("1.5 ç»™æ¯ä¸ªè§‚æµ‹è¿‡çš„å¯¹è±¡åŠ ä¸Šæ ‡è¯†ç¬¦")])])])]),s("li",[s("a",{attrs:{href:"#_2-æ•°æ®åŠ«æŒæµç¨‹å›¾"}},[t._v("2. æ•°æ®åŠ«æŒæµç¨‹å›¾")])]),s("li",[s("a",{attrs:{href:"#_3-å†™åœ¨æœ€å"}},[t._v("3. å†™åœ¨æœ€å")])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"å“åº”å¼åŸç†ä»‹ç»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å“åº”å¼åŸç†ä»‹ç»"}},[t._v("#")]),t._v(" å“åº”å¼åŸç†ä»‹ç»")]),t._v(" "),s("p",[t._v("å“åº”å¼ æ˜¯Vue æœ€ç‹¬ç‰¹çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œæ˜¯"),s("strong",[t._v("éä¾µå…¥æ€§")]),t._v("çš„å“åº”å¼ç³»ç»Ÿã€‚æ•°æ®æ¨¡å‹ä»…ä»…æ˜¯æ™®é€šçš„ JavaScript å¯¹è±¡ã€‚è€Œå½“ä½ ä¿®æ”¹å®ƒä»¬æ—¶ï¼Œè§†å›¾ä¼šè¿›è¡Œæ›´æ–°ã€‚vue2 çš„æ•°æ®åŠ«æŒæ˜¯åˆ©ç”¨ "),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty",target:"_blank",rel:"noopener noreferrer"}},[t._v("Object.defineProperty"),s("OutboundLink")],1),t._v(" çš„ getter å’Œ setter æ¥ç›‘å¬åˆ°å±æ€§çš„å˜åŒ–æ—¶åšä¸€äº›äº‹æƒ…ã€‚è€Œ vue3 å·²ç»æ”¾å¼ƒäº†ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè€Œæ˜¯é‡‡ç”¨ es6 æä¾›çš„ "),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy",target:"_blank",rel:"noopener noreferrer"}},[t._v("Proxy"),s("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),s("h3",{attrs:{id:"æ£€æµ‹å˜åŒ–çš„æ³¨æ„äº‹é¡¹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ£€æµ‹å˜åŒ–çš„æ³¨æ„äº‹é¡¹"}},[t._v("#")]),t._v(" æ£€æµ‹å˜åŒ–çš„æ³¨æ„äº‹é¡¹")]),t._v(" "),s("h4",{attrs:{id:"å¯¹äºå¯¹è±¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹äºå¯¹è±¡"}},[t._v("#")]),t._v(" å¯¹äºå¯¹è±¡")]),t._v(" "),s("ul",[s("li",[t._v("Vue æ— æ³•æ£€æµ‹ property çš„æ·»åŠ æˆ–ç§»é™¤")]),t._v(" "),s("li",[t._v("å¯¹äºå·²ç»åˆ›å»ºçš„å®ä¾‹ï¼ŒVue ä¸å…è®¸åŠ¨æ€æ·»åŠ æ ¹çº§åˆ«çš„å“åº”å¼ property")]),t._v(" "),s("li",[t._v("æœ‰æ—¶å¯èƒ½éœ€è¦ä¸ºå·²æœ‰å¯¹è±¡èµ‹å€¼å¤šä¸ªæ–° propertyï¼Œæ¯”å¦‚ä½¿ç”¨ "),s("code",[t._v("Object.assign()")]),t._v(" æˆ– "),s("code",[t._v("_.extend()")]),t._v("ã€‚ä½†æ˜¯ï¼Œè¿™æ ·æ·»åŠ åˆ°å¯¹è±¡ä¸Šçš„æ–° property ä¸ä¼šè§¦å‘æ›´æ–°ã€‚")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("å°æç¤º")]),t._v(" "),s("ul",[s("li",[t._v("å¯¹äºç¬¬ä¸€ã€äºŒç±»é—®é¢˜å¯ä»¥ä½¿ç”¨ "),s("code",[t._v("Vue.set(object, propertyName, value)")]),t._v(" æˆ–è€… "),s("code",[t._v("this.$set(object, propertyName, value)")])]),t._v(" "),s("li",[t._v("å¯¹äºç¬¬ä¸‰ç±»é—®é¢˜åº”è¯¥ç”¨åŸå¯¹è±¡ä¸è¦æ··åˆè¿›å»çš„å¯¹è±¡çš„ property ä¸€èµ·åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼š")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä»£æ›¿ `Object.assign(this.someObject, { a: 1, b: 2 })`")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("someObject "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("assign")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("someObject"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("a")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("b")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),s("h4",{attrs:{id:"å¯¹äºæ•°ç»„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹äºæ•°ç»„"}},[t._v("#")]),t._v(" å¯¹äºæ•°ç»„")]),t._v(" "),s("ul",[s("li",[t._v("å½“åˆ©ç”¨ç´¢å¼•ç›´æ¥è®¾ç½®ä¸€ä¸ªæ•°ç»„é¡¹æ—¶ï¼Œä¾‹å¦‚ï¼š"),s("code",[t._v("vm.items[indexOfItem] = newValue")])]),t._v(" "),s("li",[t._v("å½“ä¿®æ”¹æ•°ç»„çš„é•¿åº¦æ—¶ï¼Œä¾‹å¦‚ï¼š"),s("code",[t._v("vm.items.length = newLength")])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("å°æç¤º")]),t._v(" "),s("ul",[s("li",[t._v("å¯¹äºç¬¬ä¸€ç±»é—®é¢˜å’Œä¸Šè¿°å¯¹è±¡çš„ç¬¬ä¸€äºŒç±»é—®é¢˜å¤„ç†æ–¹æ³•ä¸€æ ·")]),t._v(" "),s("li",[t._v("å¯¹äºç¬¬äºŒç±»é—®é¢˜å¯ä»¥ç”¨ "),s("code",[t._v("vm.items.splice(newLength)")]),t._v(" è§£å†³")])])]),t._v(" "),s("h3",{attrs:{id:"é¢å¤–è¡¥å……"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é¢å¤–è¡¥å……"}},[t._v("#")]),t._v(" é¢å¤–è¡¥å……")]),t._v(" "),s("BackTop"),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("éä¾µå…¥å¼ä»‹ç»")]),t._v(" "),s("p",[t._v("å¦‚æœæƒ³è¦æ›´æ”¹è§†å›¾ï¼Œåªè¦ç›´æ¥æ›´æ”¹å¯¹åº”å±æ€§çš„å€¼å³å¯ï¼Œä¸éœ€è¦è°ƒç”¨ Vue æä¾›çš„ API æ¥å£ï¼Œè€Œåƒ React å’Œå°ç¨‹åºåˆ™éœ€è¦è°ƒç”¨ç›¸åº”çš„æ¥å£æ‰èƒ½ä½¿è§†å›¾è¿›è¡Œæ›´æ–°ã€‚ä¸¾ä¸ªä¾‹å­ğŸŒ°ï¼š")]),t._v(" "),s("p",[t._v("Vueï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("å°ç¨‹åºï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("a")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("å£°æ˜å“åº”å¼ property")]),t._v(" "),s("p",[t._v("ç”±äº Vue ä¸å…è®¸åŠ¨æ€æ·»åŠ æ ¹çº§å“åº”å¼ propertyï¼Œæ‰€ä»¥ä½ å¿…é¡»åœ¨åˆå§‹åŒ–å®ä¾‹å‰å£°æ˜æ‰€æœ‰æ ¹çº§å“åº”å¼ propertyï¼Œå“ªæ€•åªæ˜¯ä¸€ä¸ªç©ºå€¼ï¼š")])]),t._v(" "),s("p",[t._v("å“åº”å¼åŸç†æµç¨‹å›¾å¦‚ä¸‹ï¼š")]),t._v(" "),s("Picture",{attrs:{src:"/images/common/img12.png",title:"å“åº”å¼åŸç†æµç¨‹å›¾"}}),t._v(" "),s("h2",{attrs:{id:"_1-æ‰‹å†™æ€»ä½“æ¦‚è¿°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ‰‹å†™æ€»ä½“æ¦‚è¿°"}},[t._v("#")]),t._v(" 1. æ‰‹å†™æ€»ä½“æ¦‚è¿°")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),s("p",[t._v("ç›®å‰è¿™ä¸ªæ–‡æ¡£åªæ˜¯ä»‹ç»**ã€æ•°æ®åŠ«æŒã€‘"),s("strong",[t._v("( "),s("em",[t._v("Vue2ç‰ˆæœ¬")]),t._v(" )ï¼Œå¹¶æ²¡æœ‰è¯´æ˜å½“æ”¹å˜æ•°æ®é¡µé¢ä¹Ÿä¼šåŒæ—¶æ›´æ–°è§†å›¾çš„åŸç†ï¼Œè¿™ä¸ªå°†åœ¨ä¾èµ–æ”¶é›†è¿™ç¯‡æ–‡ç« è¿›è¡Œè®²è§£ï¼Œå› ä¸ºä¸ªäººå¯¹å“åº”å¼çš„ç†è§£æ˜¯ï¼šå“åº”å¼åˆ†ä¸ºä¸¤ä¸ªé‡è¦çš„æ­¥éª¤ï¼Œä¸€ä¸º")]),t._v("ã€æ•°æ®åŠ«æŒã€‘"),s("strong",[t._v("ï¼ŒäºŒä¸º")]),t._v("ã€ä¾èµ–æ”¶é›†ã€‘**ï¼Œé€šè¿‡è¿™ä¸¤æ­¥å¯ä»¥å®ç°å“åº”å¼ï¼Œæ‰€è°“å“åº”å¼å°±æ˜¯å½“ç”¨æˆ·æ›´æ”¹æ•°æ®æ—¶å…¶è§†å›¾ä¼šè‡ªåŠ¨è¿›è¡Œæ›´æ–°ã€‚")])]),t._v(" "),s("p",[t._v("è€Œæœ¬æ–‡ä»‹ç»å“åº”å¼çš„ä¸¤ä¸ªä¸»è¦éƒ¨åˆ†ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ç¬¬ä¸€ä¸ªå°±æ˜¯æŠŠå¯¹è±¡å˜æˆå“åº”å¼çš„ï¼›")]),t._v(" "),s("li",[t._v("ç¬¬äºŒä¸ªå°±æ˜¯æŠŠæ•°ç»„å˜æˆå“åº”å¼çš„ï¼›")]),t._v(" "),s("li",[t._v("å½“ç„¶ä¹Ÿè¿˜æœ‰å…¶ä»–çš„ä¸€äº›å‰ç½®å‡†å¤‡ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"_1-1-è·å–ç”¨æˆ·çš„-data-å€¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-è·å–ç”¨æˆ·çš„-data-å€¼"}},[t._v("#")]),t._v(" 1.1 è·å–ç”¨æˆ·çš„ data å€¼")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬çŸ¥é“åœ¨ Vue ä¸­ï¼Œç”¨æˆ·ä¼šä¼ è¿›æ¥ options å‚æ•°ï¼Œé¦–å…ˆæˆ‘ä»¬è¦è·å–ç”¨æˆ·çš„ data å¯¹è±¡çš„å€¼ï¼Œå› ä¸ºå¯èƒ½ç”¨æˆ·ä¼ çš„æ˜¯å¯¹è±¡ï¼Œä¹Ÿå¯èƒ½æ˜¯å‡½æ•°ï¼Œæ‰€ä»¥è¦è¿›è¡Œåˆ¤æ–­ï¼Œç„¶åå°† data æŒ‚è½½åˆ° vm å®ä¾‹ä¸Šï¼Œè¿™æ˜¯ä¸ºäº†åç»­æ–¹ä¾¿è·å– data ä¸Šçš„å€¼ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'function'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"_1-2-ä»£ç†-data-æ•°æ®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-ä»£ç†-data-æ•°æ®"}},[t._v("#")]),t._v(" 1.2 ä»£ç† $data æ•°æ®")]),t._v(" "),s("p",[t._v("å› ä¸ºæˆ‘ä»¬çŸ¥é“ä¸€èˆ¬è®¿é—® data é‡Œçš„æ•°æ®éƒ½æ˜¯ç›´æ¥é€šè¿‡ "),s("code",[t._v("this.xxx")]),t._v(" æ¥è®¿é—®æŸä¸ªå±æ€§ï¼Œå¹¶ä¸”èƒ½æ‹¿åˆ°ç›¸å…³æ•°æ®ï¼Œå…¶å®æ˜¯ Vue åšäº†ä¸€å±‚ä»£ç†ï¼Œå®é™…ä¸Šè¿˜æ˜¯è®¿é—®çš„ "),s("code",[t._v("this.$data.xxx")]),t._v(" æ¥è·å–å±æ€§çš„å€¼çš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡ "),s("code",[t._v("Object.defineProperty")]),t._v(" æ¥åšä»£ç†ï¼Œä»£ç†çš„å¯¹è±¡æ˜¯ "),s("code",[t._v("this")]),t._v("ï¼Œå¦‚æœç”¨æˆ·æƒ³è®¿é—® "),s("code",[t._v("this.xxx")]),t._v(" ï¼Œé‚£ä¹ˆå°±é€šè¿‡ get æ–¹æ³• "),s("code",[t._v("return this.$data.xxx")]),t._v(" æ¥è§£å†³ä»£ç†ã€‚")]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),s("p",[t._v("è¿™é‡Œä¸éœ€è¦é€’å½’ä»£ç†æ¯ä¸€ä¸ªæ•°æ®ï¼Œå› ä¸ºæˆ‘ä»¬åªè¦ä»£ç†ç¬¬ä¸€å±‚æ•°æ®ï¼Œè®©ä»£ç èƒ½è®¿é—®åˆ°ç¬¬ä¸€å±‚çš„æ•°æ®å³å¯ï¼Œæ¯”å¦‚è®¿é—® "),s("code",[t._v("this.a.b")]),t._v(" ï¼Œå› ä¸º this å¯¹è±¡ä¸‹å¹¶æ²¡æœ‰ a å±æ€§ï¼Œæ‰€ä»¥è¦ä»£ç†ï¼Œä»£ç†åèƒ½è®¿é—®åˆ° "),s("code",[t._v("this.a")]),t._v(" ï¼Œå› ä¸ºå¯¹è±¡ a ä¸­æœ¬æ¥å°±æœ‰ b å±æ€§ï¼Œæ‰€ä»¥ä¸è¿›è¡Œä»£ç†è¿˜æ˜¯èƒ½è·å–åˆ°çš„ã€‚")])]),t._v(" "),s("p",[t._v("å®ç°çš„æ€è·¯å°±æ˜¯è·å–åˆ° "),s("code",[t._v("vm.$data")]),t._v(" åéå†æ¯ä¸ª key åè¿›è¡Œä»£ç†å¤„ç†ï¼Œä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("proxyData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("vm")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä»£ç†$dataï¼Œèƒ½é€šè¿‡this.xxxç›´æ¥è®¿é—®å±æ€§")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" $data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" key "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" $data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" $data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newVal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        $data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newVal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"_1-3-æ•°æ®åŠ«æŒ-å¯¹è±¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-æ•°æ®åŠ«æŒ-å¯¹è±¡"}},[t._v("#")]),t._v(" 1.3 æ•°æ®åŠ«æŒâ€”â€”å¯¹è±¡")]),t._v(" "),s("p",[t._v("è¿™ä¸€æ­¥æˆ‘ä»¬éœ€è¦å°†å¯¹è±¡è¿›è¡Œæ•°æ®åŠ«æŒï¼Œè¿™é‡Œæˆ‘ç‰¹åœ°æ‰¾äº†ä¸€ä¸‹ vue æºç çš„æ•°æ®åŠ«æŒçš„ä»£ç ï¼Œæƒ³æŸ¥çœ‹å¯ä»¥æˆ³ğŸ‘‰ğŸ»"),s("a",{attrs:{href:"https://github.com/vuejs/vue/blob/main/src/core/observer/index.ts",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¿™é‡Œ"),s("OutboundLink")],1),t._v("ã€‚å½“æ—¶ä¸ªäººå­¦ä¹ çš„æ—¶å€™ç¬¬ä¸€æ¬¡æ²¡å­¦æ˜ç™½ï¼Œå…¶å®æ‡‚äº†åè¿˜æ˜¯è§‰å¾—æŒºç®€å•çš„ï¼Œä¹Ÿå°±æ˜¯ç®€å•çš„é€’å½’ï¼Œä¸ºä»€ä¹ˆä¼šæ„Ÿè§‰éš¾å‘¢ï¼Ÿå¯èƒ½æ˜¯å› ä¸ºè¿™é‡Œçš„é€’å½’ä»–ä¸æ˜¯ä¸€ä¸ªå‡½æ•°é‡Œçš„é€’å½’ï¼Œè€Œæ˜¯ä¸‰ä¸ªå‡½æ•°çš„é€’å½’ï¼Œä¹‹åä¼šå±•ç¤ºè‡ªå·±ç”»çš„æµç¨‹å›¾ï¼Œå¯èƒ½ä¼šæ¸…æ™°ä¸€ç‚¹ï¼š")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("é¦–å…ˆè¦æ˜ç™½è¿™é‡Œå®ç°æ•°æ®åŠ«æŒç”¨äº†ä¸‰ä¸ªå‡½æ•°ï¼Œåˆ†åˆ«ä¸ºï¼š")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("observe")]),t._v(" å‡½æ•°")]),t._v(" "),s("li",[s("code",[t._v("Observe")]),t._v(" ç±»")]),t._v(" "),s("li",[s("code",[t._v("defineReactive")]),t._v(" å‡½æ•°")])])]),t._v(" "),s("li",[s("p",[t._v("é‚£ä¹ˆé¦–å…ˆç”¨ "),s("code",[t._v("observe")]),t._v(" å‡½æ•°æ¥è§‚æµ‹å¾…åŠ«æŒçš„å¯¹è±¡ï¼Œæœ€å¼€å§‹çš„ä¹Ÿå°±æ˜¯ç”¨æˆ·ä¼ çš„ data å¯¹è±¡ï¼Œæ³¨æ„ä¸€ä¸‹ "),s("code",[t._v("observe")]),t._v(" å‡½æ•°åªè§‚æµ‹å¯¹è±¡ç±»å‹çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ Object æˆ–è€… Arrayï¼Œå¦‚æœä¸æ˜¯è¿™ä¸¤ä¸ªç±»å‹çš„ç›´æ¥è¿”å›ï¼Œé‚£ä¹ˆå¯èƒ½å°±æœ‰ç–‘é—®ï¼Œé‚£æ™®é€šæ•°æ®æ€ä¹ˆåŠ«æŒå‘¢ï¼Œæ›´æ”¹æ™®é€šæ•°æ®ä¸ä¹Ÿèƒ½å®ç°å“åº”å¼å˜›ï¼Ÿè¿™æ˜¯å› ä¸ºæ™®é€šæ•°æ®åœ¨å¯¹è±¡é‡Œè¢«è§‚å¯Ÿäº†ï¼Œå› ä¸ºç”¨æˆ·ä¼ çš„ data ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥å¦‚æœåŸºæœ¬æ•°æ®ç±»å‹çš„è¯ï¼Œè‚¯å®šæ˜¯åœ¨ data è¿™ä¸ªæœ€å¤§çš„å¯¹è±¡ä¸‹å­˜åœ¨çš„ï¼Œæ‰€ä»¥è‚¯å®šè¢«è§‚æµ‹è¿‡äº†ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("å…¶æ¬¡ "),s("code",[t._v("Observe")]),t._v(" ç±»ä¸»è¦å°±æ˜¯å¯¹å¯¹è±¡å’Œæ•°ç»„è¿›è¡Œè§‚æµ‹ï¼Œå¹¶å®æ–½ä¸åŒçš„ç­–ç•¥ï¼Œå¦‚æœæ˜¯ Object çš„è¯ï¼Œé‚£å°±è°ƒç”¨ walk æ–¹æ³•ï¼Œéå†å½“å‰å¯¹è±¡çš„æ¯ä¸€ä¸ª key å€¼ï¼Œç„¶ååˆ©ç”¨ "),s("code",[t._v("defineReactive")]),t._v(" å‡½æ•°å¯¹å…¶è¿›è¡ŒåŠ«æŒã€‚æ•°ç»„ä¼šåœ¨åç»­è®¨è®ºã€‚")])]),t._v(" "),s("li",[s("p",[t._v("è€Œ "),s("code",[t._v("defineReactive")]),t._v(" å‡½æ•°ä¼šä¸€å¼€å§‹å°±è°ƒç”¨ "),s("code",[t._v("observe")]),t._v(" å‡½æ•°ï¼Œå› ä¸ºå¦‚æœå½“ä¼ è¿›æ¥çš„ value å€¼è¿˜æ˜¯ Object å°±ç»§ç»­é€’å½’ï¼Œç›´åˆ°ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œå°±ä¼šè¢«ç›´æ¥ return å›æ¥ï¼Œç„¶åæ‰§è¡Œä¸‹é¢çš„ "),s("code",[t._v("Object.defineProperty")]),t._v(" æ–¹æ³•ï¼Œå› ä¸ºè¿™æ ·è¿‡å Object é‡Œçš„æ‰€æœ‰åŸºæœ¬æ•°æ®ç±»å‹çš„å€¼éƒ½è¢«åŠ«æŒäº†ï¼Œæ·±å±‚çš„å¯¹è±¡ä¸­çš„æ•°æ®ä¹Ÿè¢«åŠ«æŒäº†ï¼Œç›®å‰æ•°ç»„é‡Œçš„åŸºæœ¬ç±»å‹æ•°æ®å…ˆä¸è®¨è®ºã€‚")])]),t._v(" "),s("li",[s("p",[t._v("è¿˜æœ‰ä¸€äº›ç»†èŠ‚ä¹Ÿä¸è®¨è®ºï¼Œå…ˆç»™ä¸€ä¸ªç®€å•çš„æ¨¡æ¿ä»£ç ï¼š")])])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸å¯¹åŸºç¡€ç±»å‹è¿›è¡Œè§‚å¯Ÿ")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'object'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Observe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è§‚å¯Ÿè€…ç±»ï¼Œç”¨äºè§‚æµ‹æ•°æ®ä½¿å…¶æˆä¸ºå“åº”å¼æ•°æ®")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Observe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Array"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isArray")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœæ˜¯æ•°ç»„")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è§‚æµ‹å¯¹è±¡")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("walk")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  \n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Observe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("walk")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" key "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineReactive")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineReactive")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é€’å½’è§‚æµ‹")]),t._v("\n  Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æ•°æ®åŠ«æŒgetæ“ä½œ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'->'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newVal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æ•°æ®åŠ«æŒsetæ“ä½œ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newVal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<-'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœæ²¡æ”¹å˜å€¼é‚£ä¹ˆç›´æ¥è¿”å›")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" newVal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è§‚å¯Ÿæ›´æ”¹çš„å€¼ï¼Œè®©å…¶ä¹Ÿå˜æˆå“åº”å¼")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newVal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newVal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),s("p",[t._v("åœ¨ set å‡½æ•°é‡Œè¦å¯¹æ–°å€¼ä¹Ÿè¿›è¡Œè§‚å¯Ÿï¼Œä¹Ÿå°±æ˜¯ "),s("code",[t._v("observe(newVal)")]),t._v("ï¼Œè¿™æ ·å°±èƒ½åŠ«æŒæ–°çš„æ•°æ®äº†ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"_1-4-æ•°æ®åŠ«æŒ-æ•°ç»„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-æ•°æ®åŠ«æŒ-æ•°ç»„"}},[t._v("#")]),t._v(" 1.4 æ•°æ®åŠ«æŒâ€”â€”æ•°ç»„")]),t._v(" "),s("p",[t._v("Array çš„æ•°æ®åŠ«æŒæ–¹æ³•å’Œ Object çš„æ–¹å¼ä¸ä¸€æ ·ï¼Œä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè¿™æ ·çš„æ•ˆæœå‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºå‡è®¾ç”¨æˆ·å¾ˆå¯èƒ½ä¼šäº§ç”Ÿä¸€ä¸ªé•¿åº¦ä¸º 1000 çš„ Arrayï¼Œå¦‚æœéƒ½å¯¹æ¯ä¸ªåŸºæœ¬ç±»å‹è¿›è¡ŒåŠ«æŒå°±ä¼šéå¸¸æ¶ˆè€—æ€§èƒ½ï¼Œå› ä¸ºæ¯ä¸ªæ•°æ®éƒ½è¦ definePropertyï¼Œæ‰€ä»¥ Vue ç”¨äº†ä¸€ä¸ªæŠ˜è¡·çš„åŠæ³•ï¼š")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("é¦–å…ˆé‚£å°±æ˜¯ç›‘å¬ Array ä¸­å¯¹è±¡ç±»å‹çš„æ•°æ®( Array æˆ– Object )ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ Vue ä¸­å¯¹æ•°ç»„çš„ä¸‹æ ‡è¿›è¡Œä¿®æ”¹ï¼Œå¦‚æœå€¼ä¸ºåŸºæœ¬æ•°æ®ç±»å‹çš„è¯æ˜¯ä¸ä¼šäº§ç”Ÿè§†å›¾æ›´æ–°çš„ï¼Œå¦‚æœä¸º Object ç±»å‹ï¼Œå› ä¸ºè¿›è¡Œäº†æ•°æ®åŠ«æŒï¼Œæ˜¯ä¼šæ›´æ–°è§†å›¾çš„ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("åŒæ—¶é‡å†™äº†ä¸ƒä¸ªä¼šæ”¹å˜åŸæ•°ç»„çš„æ–¹æ³•ï¼š"),s("code",[t._v("['push', 'pop', 'unshift', 'shift', 'sort', 'reverse', 'splice']")]),t._v("ï¼Œå¹¶ä¸”æ›´æ”¹äº†æ•°ç»„å®ä¾‹çš„åŸå‹é“¾ï¼Œä¼˜å…ˆä½¿ç”¨æˆ‘ä»¬è‡ªå·±é‡å†™çš„æ–¹æ³•ã€‚ä½†æ˜¯æ•°ç»„çš„ç›‘å¬ç”¨æˆ·æ“ä½œåˆè¦æ³¨æ„ä»¥ä¸‹çš„ä¸¤ä¸ªæ–¹é¢ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ä¸€æ˜¯è®©æˆ‘ä»¬è‡ªå·±å†™çš„æ–¹æ³•ä¸å¤±åŸæœ‰æ–¹æ³•çš„åŠŸèƒ½å’Œè¿”å›å€¼ï¼Œå¯¹äºè¿™ä¸ªé—®é¢˜åªè¦è¿è¡Œå¹¶è¿”å›åŸæ¥å‡½æ•°çš„è¿”å›å€¼å°±èƒ½è§£å†³")]),t._v(" "),s("li",[t._v("äºŒæ˜¯ä½¿ç”¨æ–¹æ³•æ—¶ç”¨æˆ·å¯èƒ½ä¼šæ’å…¥æ–°çš„å€¼ï¼Œé‚£ä¹ˆä¹Ÿè¦è¿›è¡Œæ’å…¥å€¼çš„æ•°æ®åŠ«æŒï¼Œè¿™ä¸ªé—®é¢˜éœ€è¦æˆ‘ä»¬å¯¹ç”¨æˆ·çš„æ“ä½œè¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœä¸º "),s("code",[t._v("push|unshift|splice")]),t._v(" ä¹‹ä¸€å°±è·å–æ’å…¥çš„å€¼ï¼Œç„¶åå¯¹æ¯ä¸ªå€¼è¿›è¡Œ "),s("code",[t._v("observe")]),t._v(" å°±è¡Œ")])])]),t._v(" "),s("li",[s("p",[t._v("æ•°ç»„çš„é‡å†™éœ€è¦å¯¹åŸå‹é“¾çš„çŸ¥è¯†æœ‰äº†è§£ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬éœ€è¦å¤åˆ¶åŸæœ‰åŸå‹ä¸­çš„ä¸ƒä¸ªæ–¹æ³•ï¼Œé‡å†™åæ”¾å…¥æˆ‘ä»¬è‡ªå·±åˆ›å»ºçš„åŸå‹ä¸­ï¼Œç„¶åå°†æ•°ç»„å®ä¾‹çš„ "),s("code",[t._v("__proto__")]),t._v(" æŒ‡å‘æˆ‘ä»¬å†™çš„åŸå‹ï¼Œç„¶åæˆ‘ä»¬è‡ªå·±çš„åŸå‹çš„ "),s("code",[t._v("__proto__")]),t._v(" æŒ‡å‘ Array.prototype å³å¯ã€‚")])])]),t._v(" "),s("p",[t._v("å…·ä½“ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("METHODS")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'push'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pop'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unshift'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'shift'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sort'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'reverse'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'splice'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" arrayPrototypeCopy "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Array")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  newMethods "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arrayPrototypeCopy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æˆ‘ä»¬è‡ªå·±çš„åŸå‹çš„ __proto__ æŒ‡å‘ Array.prototype")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" m "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("METHODS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("def")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newMethods"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" m"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" args "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Array")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arguments"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" res "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arrayPrototypeCopy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("m"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ob "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__ob__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ç›‘å¬æ•°ç»„çš„'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" m"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æ–¹æ³•'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›‘å¬ä¿®æ”¹æ•°ç»„çš„æ“ä½œï¼Œå¦‚æœæ·»åŠ çš„å…ƒç´ ä¸­æœ‰å¯¹è±¡ä¹Ÿè¦ç›‘å¬")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" addElement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'push'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unshift'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        addElement "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'splice'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å› ä¸ºspliceæ·»åŠ çš„å…ƒç´ å¾—ä»ç¬¬ä¸‰ä¸ªå¼€å§‹ç®—")]),t._v("\n        addElement "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœæœ‰æ·»åŠ çš„å…ƒç´ å°±è¿›è¡Œè§‚å¯Ÿ")]),t._v("\n    addElement "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" ob"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("observeArr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("addElement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœæ•°ç»„æ›´æ–°äº†é‚£ä¹ˆå°±æ›´æ–°é¡µé¢")]),t._v("\n    ob"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dep"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("notify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  newMethods\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Observe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Array"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isArray")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœæ˜¯æ•°ç»„ï¼Œéœ€è¦é‡å†™ä¸ƒä¸ªæ–¹æ³•ï¼Œä¸”æ›´æ”¹æ•°ç»„çš„åŸå‹é“¾")]),t._v("\n    value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newMethods"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è§‚æµ‹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("observeArr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è§‚æµ‹å¯¹è±¡")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("walk")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Observe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("observeArr")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" len "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" len"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("å°æç¤º")]),t._v(" "),s("p",[t._v("ä¸ºäº†è®©æˆ‘ä»¬è‡ªå·±å†™çš„æ–¹æ³•ä¸è¢«éå†ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† "),s("code",[t._v("def")]),t._v(" å‡½æ•°è®©æ¯ä¸ªå‡½æ•°çš„ enumerable ä¸º falseã€‚")])]),t._v(" "),s("h3",{attrs:{id:"_1-5-ç»™æ¯ä¸ªè§‚æµ‹è¿‡çš„å¯¹è±¡åŠ ä¸Šæ ‡è¯†ç¬¦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-ç»™æ¯ä¸ªè§‚æµ‹è¿‡çš„å¯¹è±¡åŠ ä¸Šæ ‡è¯†ç¬¦"}},[t._v("#")]),t._v(" 1.5 ç»™æ¯ä¸ªè§‚æµ‹è¿‡çš„å¯¹è±¡åŠ ä¸Šæ ‡è¯†ç¬¦")]),t._v(" "),s("p",[t._v("è¿™ä¸ªæ ‡è¯†ç¬¦ä¹Ÿå°±æ˜¯ "),s("code",[t._v("__ob__")]),t._v("ï¼Œä¸€æ˜¯å› ä¸ºåŠ ä¸Šåå¦‚æœè§‚å¯Ÿçš„æ—¶å€™å¦‚æœå‘ç°æœ‰è¿™ä¸ªæ ‡è¯†ç¬¦å°±ä»£è¡¨è§‚å¯Ÿè¿‡äº†ï¼Œå°±ä¸ç”¨é€’å½’è§‚å¯Ÿäº†ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("def")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'__ob__'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("def")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" enumerable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("writable")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("configurable")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    enumerable\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ul",[s("li",[t._v("å¦‚æœç›´æ¥åœ¨è§‚æµ‹å¯¹è±¡ä¸‹æ·»åŠ  "),s("code",[t._v("__ob__")]),t._v(" çš„è¯ï¼Œå°±ä¼šæŠŠè¯¥å¯¹è±¡ä¸Šçš„å±æ€§ä¹Ÿè¿›è¡ŒåŠ«æŒï¼Œè¿™ä¸éœ€è¦ï¼Œæ‰€ä»¥è¦æŠŠå…¶çš„ enumerable ç½®ä¸º false")])]),t._v(" "),s("p",[t._v("äºŒæ˜¯ä¸ºäº†ä¾èµ–æ”¶é›†æ—¶ä½œå‡†å¤‡ç”¨çš„")]),t._v(" "),s("p",[t._v("åˆ°è¿™é‡Œå°±å®ç°äº†ä¸€ä¸ªç®€å•çš„æ•°æ®åŠ«æŒåŠŸèƒ½ï¼Œè®²çš„æœ‰ç‚¹æ½¦è‰ï¼Œä¸»è¦è¿˜æ˜¯éœ€è¦è‡ªå·±å»å†™ä¸€éç†æ¸…æµç¨‹ã€‚")]),t._v(" "),s("h2",{attrs:{id:"_2-æ•°æ®åŠ«æŒæµç¨‹å›¾"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-æ•°æ®åŠ«æŒæµç¨‹å›¾"}},[t._v("#")]),t._v(" 2. æ•°æ®åŠ«æŒæµç¨‹å›¾")]),t._v(" "),s("div",{staticClass:"language-sequence extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("observeå‡½æ•° -> Observeç±»: ä¸ºObjectæˆ–è€…Array\nObserveç±» -> defineReactiveå‡½æ•°: ä¸ºObject\nObserveç±» -> åŠ«æŒæ•°ç»„: ä¸ºArray\né‡å†™æ•°ç»„çš„7ä¸ªæ–¹æ³• -> åŠ«æŒæ•°ç»„: è¿”å›è‡ªå®šä¹‰åŸå‹\ndefineReactiveå‡½æ•° -> observeå‡½æ•°: é€’å½’\nåŠ«æŒæ•°ç»„ -> observeå‡½æ•°: é€’å½’\nobserveå‡½æ•° -> ç»“æŸ: å¦‚æœä¸ºåŸºæœ¬æ•°æ®ç±»å‹æˆ–è€…å·²ç»è¢«ç›‘å¬\n")])])]),s("Picture",{attrs:{src:"/images/common/img11.png",title:"æ•°æ®åŠ«æŒæµç¨‹å›¾"}}),t._v(" "),s("h2",{attrs:{id:"_3-å†™åœ¨æœ€å"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-å†™åœ¨æœ€å"}},[t._v("#")]),t._v(" 3. å†™åœ¨æœ€å")]),t._v(" "),s("ul",[s("li",[t._v("å®Œæ•´ä»£ç ï¼šæ¯ä¸ªæ­¥éª¤éƒ½æœ‰ç›¸åº”çš„ç»“æœæ‰“å°ï¼Œå¯æ¸…æ¥šæŸ¥çœ‹æ¯ä¸ªè¿‡ç¨‹ï¼Œå¯è§æˆ‘çš„ "),s("a",{attrs:{href:"https://github.com/ox4f5da2/myVue2",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub ä»“åº“ ğŸ“¦"),s("OutboundLink")],1),t._v("ï¼Œå¦‚æœå–œæ¬¢å¯ä»¥ç»™ä¸€é¢— â­ï¸ æ”¯æŒä¸€ä¸‹")]),t._v(" "),s("li",[t._v("å‚è€ƒèµ„æ–™ï¼š\n"),s("ul",[s("li",[s("a",{attrs:{href:"https://www.bilibili.com/video/BV1Ti4y1w7TL?p=6&vd_source=9f49d3e54ff277fa493d41e5e7bfa8dc",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€å…¨ç½‘é¦–å‘:æ›´æ–°ä¸­ã€‘Vue2.0/Vue3.0ã€æºç é‡å†™ã€åˆé›†ã€é¢è¯•æå‡å¿…å¤‡ã€‘"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.bilibili.com/video/BV1mR4y1w7cU?p=1&vd_source=9f49d3e54ff277fa493d41e5e7bfa8dc",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€ç å³°T0çº§åˆ«è®²å¸ˆã€‘Vue2æºç æ‰‹å†™+å°é¡¹ç›®"),s("OutboundLink")],1)])])])])],1)}),[],!1,null,null,null);s.default=e.exports}}]);