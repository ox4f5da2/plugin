<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基础知识 | 火龙果文档</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/plugin/images/common/logo.png">
    <meta name="description" content="Karl_fang文档笔记">
    
    <link rel="preload" href="/plugin/assets/css/0.styles.c8de49fe.css" as="style"><link rel="preload" href="/plugin/assets/js/app.c9215cbb.js" as="script"><link rel="preload" href="/plugin/assets/js/2.3109c390.js" as="script"><link rel="preload" href="/plugin/assets/js/58.1a3b2a75.js" as="script"><link rel="prefetch" href="/plugin/assets/js/10.715ea178.js"><link rel="prefetch" href="/plugin/assets/js/11.1649de93.js"><link rel="prefetch" href="/plugin/assets/js/12.1a357012.js"><link rel="prefetch" href="/plugin/assets/js/13.ad0621a5.js"><link rel="prefetch" href="/plugin/assets/js/14.f836128c.js"><link rel="prefetch" href="/plugin/assets/js/15.185d9a57.js"><link rel="prefetch" href="/plugin/assets/js/16.5f33fe72.js"><link rel="prefetch" href="/plugin/assets/js/17.0af46bc3.js"><link rel="prefetch" href="/plugin/assets/js/18.7c734243.js"><link rel="prefetch" href="/plugin/assets/js/19.a674ca8c.js"><link rel="prefetch" href="/plugin/assets/js/20.c8a0e68e.js"><link rel="prefetch" href="/plugin/assets/js/21.1838a778.js"><link rel="prefetch" href="/plugin/assets/js/22.1d02d7b4.js"><link rel="prefetch" href="/plugin/assets/js/23.97f8bc82.js"><link rel="prefetch" href="/plugin/assets/js/24.6d98aa5d.js"><link rel="prefetch" href="/plugin/assets/js/25.ef08796f.js"><link rel="prefetch" href="/plugin/assets/js/26.6908e271.js"><link rel="prefetch" href="/plugin/assets/js/27.61ec64cf.js"><link rel="prefetch" href="/plugin/assets/js/28.52f425d6.js"><link rel="prefetch" href="/plugin/assets/js/29.14e98a0d.js"><link rel="prefetch" href="/plugin/assets/js/3.b173f1f9.js"><link rel="prefetch" href="/plugin/assets/js/30.ed93fd03.js"><link rel="prefetch" href="/plugin/assets/js/31.d0a61d46.js"><link rel="prefetch" href="/plugin/assets/js/32.82c2f807.js"><link rel="prefetch" href="/plugin/assets/js/33.f42860e9.js"><link rel="prefetch" href="/plugin/assets/js/34.cfdbf446.js"><link rel="prefetch" href="/plugin/assets/js/35.5567dd2e.js"><link rel="prefetch" href="/plugin/assets/js/36.2c3a284d.js"><link rel="prefetch" href="/plugin/assets/js/37.0096902c.js"><link rel="prefetch" href="/plugin/assets/js/38.13bedfd6.js"><link rel="prefetch" href="/plugin/assets/js/39.d25b0d78.js"><link rel="prefetch" href="/plugin/assets/js/4.e3ff3068.js"><link rel="prefetch" href="/plugin/assets/js/40.65184eba.js"><link rel="prefetch" href="/plugin/assets/js/41.79db90da.js"><link rel="prefetch" href="/plugin/assets/js/42.c72d5e7a.js"><link rel="prefetch" href="/plugin/assets/js/43.68007c4a.js"><link rel="prefetch" href="/plugin/assets/js/44.894b417a.js"><link rel="prefetch" href="/plugin/assets/js/45.229d6844.js"><link rel="prefetch" href="/plugin/assets/js/46.53f2f813.js"><link rel="prefetch" href="/plugin/assets/js/47.a2a431fd.js"><link rel="prefetch" href="/plugin/assets/js/48.09bd3496.js"><link rel="prefetch" href="/plugin/assets/js/49.c18fe647.js"><link rel="prefetch" href="/plugin/assets/js/5.33a91e62.js"><link rel="prefetch" href="/plugin/assets/js/50.fbb4d2d9.js"><link rel="prefetch" href="/plugin/assets/js/51.bcb814f9.js"><link rel="prefetch" href="/plugin/assets/js/52.b05b586d.js"><link rel="prefetch" href="/plugin/assets/js/53.23ca139c.js"><link rel="prefetch" href="/plugin/assets/js/54.ebf744d3.js"><link rel="prefetch" href="/plugin/assets/js/55.a7edfe51.js"><link rel="prefetch" href="/plugin/assets/js/56.121fecb8.js"><link rel="prefetch" href="/plugin/assets/js/57.a480788d.js"><link rel="prefetch" href="/plugin/assets/js/59.686deecb.js"><link rel="prefetch" href="/plugin/assets/js/6.3d2691df.js"><link rel="prefetch" href="/plugin/assets/js/60.f66cea3f.js"><link rel="prefetch" href="/plugin/assets/js/61.4a0d7b33.js"><link rel="prefetch" href="/plugin/assets/js/62.d5dfd7bf.js"><link rel="prefetch" href="/plugin/assets/js/63.6b039783.js"><link rel="prefetch" href="/plugin/assets/js/64.6158e3d4.js"><link rel="prefetch" href="/plugin/assets/js/65.77586fa0.js"><link rel="prefetch" href="/plugin/assets/js/66.6a8b2478.js"><link rel="prefetch" href="/plugin/assets/js/67.613c0700.js"><link rel="prefetch" href="/plugin/assets/js/68.f7a526b0.js"><link rel="prefetch" href="/plugin/assets/js/69.7b3e9222.js"><link rel="prefetch" href="/plugin/assets/js/7.290b946a.js"><link rel="prefetch" href="/plugin/assets/js/70.04085217.js"><link rel="prefetch" href="/plugin/assets/js/71.64781db8.js"><link rel="prefetch" href="/plugin/assets/js/72.7d99109d.js"><link rel="prefetch" href="/plugin/assets/js/73.f0d93e31.js"><link rel="prefetch" href="/plugin/assets/js/74.2a506453.js"><link rel="prefetch" href="/plugin/assets/js/75.e546d16c.js"><link rel="prefetch" href="/plugin/assets/js/76.d8196960.js"><link rel="prefetch" href="/plugin/assets/js/77.02184b57.js"><link rel="prefetch" href="/plugin/assets/js/78.263fc9c7.js"><link rel="prefetch" href="/plugin/assets/js/79.eea88991.js"><link rel="prefetch" href="/plugin/assets/js/8.9e3cfa8b.js"><link rel="prefetch" href="/plugin/assets/js/80.59166ecf.js"><link rel="prefetch" href="/plugin/assets/js/81.4b332e84.js"><link rel="prefetch" href="/plugin/assets/js/82.ab6702af.js"><link rel="prefetch" href="/plugin/assets/js/83.d5273ee4.js"><link rel="prefetch" href="/plugin/assets/js/9.0fcbcb20.js">
    <link rel="stylesheet" href="/plugin/assets/css/0.styles.c8de49fe.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/plugin/" class="home-link router-link-active"><img src="/plugin/images/common/logo.png" alt="火龙果文档" class="logo"> <span class="site-name can-hide">火龙果文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/plugin/" class="nav-link">
    主页
  </a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="导航" class="dropdown-title"><span class="title">导航</span> <span class="arrow down"></span></button> <button type="button" aria-label="导航" class="mobile-dropdown-title"><span class="title">导航</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
            其他
          </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/plugin/help/emoji.html" class="nav-link">
    Emoji
  </a></li></ul></li><li class="dropdown-item"><h4>
            Manifest V3
          </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/plugin/guide/V3的配置更改.html" class="nav-link">
    V3的配置更改
  </a></li><li class="dropdown-subitem"><a href="/plugin/guide/V3的manifest.html" class="nav-link">
    V3的manifest
  </a></li><li class="dropdown-subitem"><a href="/plugin/help/declarePermission.html" class="nav-link">
    权限声明
  </a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
            插件
          </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/plugin/plugin/前言.html" class="nav-link">
    前言
  </a></li><li class="dropdown-subitem"><a href="/plugin/plugin/myDevTool.html" class="nav-link">
    myDevTool
  </a></li><li class="dropdown-subitem"><a href="/plugin/plugin/myNewTab.html" class="nav-link">
    myNewTab
  </a></li><li class="dropdown-subitem"><a href="/plugin/plugin/Pitaya.html" class="nav-link">
    Pitaya
  </a></li><li class="dropdown-subitem"><a href="/plugin/plugin/progress.html" class="nav-link">
    progress
  </a></li><li class="dropdown-subitem"><a href="/plugin/plugin/chatgpt.html" class="nav-link">
    chatgpt-theme
  </a></li></ul></li><li class="dropdown-item"><h4>
            NPM库
          </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/plugin/npm/mylibs.html" class="nav-link">
    @karl_fang/mylibs
  </a></li><li class="dropdown-subitem"><a href="/plugin/npm/js数据结构.html" class="nav-link">
    @karl_fang/data-structure
  </a></li></ul></li><li class="dropdown-item"><h4>
            脚手架工具
          </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/plugin/guide/karl-cli.html" class="nav-link">
    karl-cli
  </a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
            Vue笔记系列
          </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/plugin/frontend/note/Vue(1).html" class="nav-link">
    Vue(1)
  </a></li><li class="dropdown-subitem"><a href="/plugin/frontend/note/Vue(2).html" class="nav-link">
    Vue(2)
  </a></li><li class="dropdown-subitem"><a href="/plugin/frontend/note/Vue(3).html" class="nav-link">
    Vue(3)
  </a></li><li class="dropdown-subitem"><a href="/plugin/frontend/note/Vue(4).html" class="nav-link">
    Vue(4)
  </a></li><li class="dropdown-subitem"><a href="/plugin/frontend/note/Vue(5).html" class="nav-link">
    Vue(5)
  </a></li></ul></li><li class="dropdown-item"><h4>
            Vue 手写系列
          </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/plugin/frontend/note/Vue-defineReactive.html" class="nav-link">
    Vue 响应式原理
  </a></li><li class="dropdown-subitem"><a href="/plugin/frontend/note/Vue-template.html" class="nav-link">
    Vue 模板编译
  </a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小程序" class="dropdown-title"><span class="title">小程序</span> <span class="arrow down"></span></button> <button type="button" aria-label="小程序" class="mobile-dropdown-title"><span class="title">小程序</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/plugin/weChat/Pitaya-Hut.html" class="nav-link">
    Pitaya Hut
  </a></li></ul></div></div><div class="nav-item"><a href="https://github.com/ox4f5da2" target="_blank" rel="noopener noreferrer" class="nav-link external">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/plugin/" class="nav-link">
    主页
  </a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="导航" class="dropdown-title"><span class="title">导航</span> <span class="arrow down"></span></button> <button type="button" aria-label="导航" class="mobile-dropdown-title"><span class="title">导航</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
            其他
          </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/plugin/help/emoji.html" class="nav-link">
    Emoji
  </a></li></ul></li><li class="dropdown-item"><h4>
            Manifest V3
          </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/plugin/guide/V3的配置更改.html" class="nav-link">
    V3的配置更改
  </a></li><li class="dropdown-subitem"><a href="/plugin/guide/V3的manifest.html" class="nav-link">
    V3的manifest
  </a></li><li class="dropdown-subitem"><a href="/plugin/help/declarePermission.html" class="nav-link">
    权限声明
  </a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
            插件
          </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/plugin/plugin/前言.html" class="nav-link">
    前言
  </a></li><li class="dropdown-subitem"><a href="/plugin/plugin/myDevTool.html" class="nav-link">
    myDevTool
  </a></li><li class="dropdown-subitem"><a href="/plugin/plugin/myNewTab.html" class="nav-link">
    myNewTab
  </a></li><li class="dropdown-subitem"><a href="/plugin/plugin/Pitaya.html" class="nav-link">
    Pitaya
  </a></li><li class="dropdown-subitem"><a href="/plugin/plugin/progress.html" class="nav-link">
    progress
  </a></li><li class="dropdown-subitem"><a href="/plugin/plugin/chatgpt.html" class="nav-link">
    chatgpt-theme
  </a></li></ul></li><li class="dropdown-item"><h4>
            NPM库
          </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/plugin/npm/mylibs.html" class="nav-link">
    @karl_fang/mylibs
  </a></li><li class="dropdown-subitem"><a href="/plugin/npm/js数据结构.html" class="nav-link">
    @karl_fang/data-structure
  </a></li></ul></li><li class="dropdown-item"><h4>
            脚手架工具
          </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/plugin/guide/karl-cli.html" class="nav-link">
    karl-cli
  </a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
            Vue笔记系列
          </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/plugin/frontend/note/Vue(1).html" class="nav-link">
    Vue(1)
  </a></li><li class="dropdown-subitem"><a href="/plugin/frontend/note/Vue(2).html" class="nav-link">
    Vue(2)
  </a></li><li class="dropdown-subitem"><a href="/plugin/frontend/note/Vue(3).html" class="nav-link">
    Vue(3)
  </a></li><li class="dropdown-subitem"><a href="/plugin/frontend/note/Vue(4).html" class="nav-link">
    Vue(4)
  </a></li><li class="dropdown-subitem"><a href="/plugin/frontend/note/Vue(5).html" class="nav-link">
    Vue(5)
  </a></li></ul></li><li class="dropdown-item"><h4>
            Vue 手写系列
          </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/plugin/frontend/note/Vue-defineReactive.html" class="nav-link">
    Vue 响应式原理
  </a></li><li class="dropdown-subitem"><a href="/plugin/frontend/note/Vue-template.html" class="nav-link">
    Vue 模板编译
  </a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小程序" class="dropdown-title"><span class="title">小程序</span> <span class="arrow down"></span></button> <button type="button" aria-label="小程序" class="mobile-dropdown-title"><span class="title">小程序</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/plugin/weChat/Pitaya-Hut.html" class="nav-link">
    Pitaya Hut
  </a></li></ul></div></div><div class="nav-item"><a href="https://github.com/ox4f5da2" target="_blank" rel="noopener noreferrer" class="nav-link external">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/plugin/作者的话.html" class="sidebar-link">作者的话</a></li><li><a href="/plugin/Chrome插件.html" class="sidebar-link">Chrome插件</a></li><li><a href="/plugin/脚手架工具开发.html" class="sidebar-link">脚手架工具开发</a></li><li><a href="/plugin/vuepress.html" class="sidebar-link">vuepress快速上手</a></li><li><a href="/plugin/前端笔记.html" class="sidebar-link">前端笔记</a></li><li><a href="/plugin/npm发布流程.html" class="sidebar-link">npm发布流程</a></li><li><a href="/plugin/Leetcode.html" class="sidebar-link">Leetcode</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="基础知识"><a href="#基础知识" class="header-anchor">#</a> 基础知识</h2> <p>正则表达式是用于匹配字符串中字符组合的模式，在 JavaScript 中，正则表达式也是对象。</p> <ul><li>正则表达式是在宿主环境下运行的，如<code>js/php/node.js</code> 等</li> <li>本章讲解的知识在其他语言中知识也是可用的，会有些函数使用上的区别</li></ul> <h3 id="对比分析"><a href="#对比分析" class="header-anchor">#</a> 对比分析</h3> <p>与普通函数操作字符串来比较，正则表达式可以写出更简洁、功能强大的代码。</p> <p>下面使用获取字符串中的所有数字来比较函数与正则的差异。</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;houdunren2200hdcms9988&quot;;
let nums = [...hd].filter(a =&gt; !Number.isNaN(parseInt(a)));
console.log(nums.join(&quot;&quot;));
</code></pre></div><p>使用正则表达式将简单得多</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;houdunren2200hdcms9988&quot;;
console.log(hd.match(/\d/g).join(&quot;&quot;));
</code></pre></div><h3 id="创建正则"><a href="#创建正则" class="header-anchor">#</a> 创建正则</h3> <p>JS 提供字面量与对象两种方式创建正则表达式</p> <h4 id="字面量创建"><a href="#字面量创建" class="header-anchor">#</a> 字面量创建</h4> <p>使用<code>//</code>包裹的字面量创建方式是推荐的作法，但它不能在其中使用变量</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;houdunren.com&quot;;
console.log(/u/.test(hd));//true
</code></pre></div><p>下面尝试使用 <code>a</code> 变量时将不可以查询</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;houdunren.com&quot;;
let a = &quot;u&quot;;
console.log(/a/.test(hd)); //false
</code></pre></div><p>虽然可以使用 <code>eval</code> 转换为 js 语法来实现将变量解析到正则中，但是比较麻烦，所以有变量时建议使用下面的对象创建方式</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;houdunren.com&quot;;
let a = &quot;u&quot;;
console.log(eval(`/${a}/`).test(hd)); //true
</code></pre></div><h4 id="对象创建"><a href="#对象创建" class="header-anchor">#</a> 对象创建</h4> <p>当正则需要动态创建时使用对象方式</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;houdunren.com&quot;;
let web = &quot;houdunren&quot;;
let reg = new RegExp(web);
console.log(reg.test(hd)); //true
</code></pre></div><p>根据用户输入高亮显示内容，支持用户输入正则表达式</p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;div id=&quot;content&quot;&gt;houdunren.com&amp;lt;/div&gt;
&amp;lt;/body&gt;
&amp;lt;script&gt;
  const content = prompt(&quot;请输入要搜索的内容，支持正则表达式&quot;);
  const reg = new RegExp(content, &quot;g&quot;);
  let body = document
    .querySelector(&quot;#content&quot;)
    .innerHTML.replace(reg, str =&gt; {
      return `&amp;lt;span style=&quot;color:red&quot;&gt;${str}&amp;lt;/span&gt;`;
    });
  document.body.innerHTML = body;
&amp;lt;/script&gt;
</code></pre></div><p>通过对象创建正则提取标签</p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;h1&gt;houdunren.com&amp;lt;/h1&gt;
  &amp;lt;h1&gt;hdcms.com&amp;lt;/h1&gt;
&amp;lt;/body&gt;

&amp;lt;script&gt;
function element(tag) {
  const html = document.body.innerHTML;
  let reg = new RegExp(&quot;&amp;lt;(&quot; + tag + &quot;)&gt;.+&amp;lt;/\\1&gt;&quot;, &quot;g&quot;);
  return html.match(reg);
}
console.table(element(&quot;h1&quot;));
</code></pre></div><h3 id="选择符"><a href="#选择符" class="header-anchor">#</a> 选择符</h3> <p><code>|</code> 这个符号带表选择修释符，也就是 <code>|</code> 左右两侧有一个匹配到就可以。</p> <p>检测电话是否是上海或北京的坐机</p> <div class="language-text extra-class"><pre class="language-text"><code>let tel = &quot;010-12345678&quot;;
//错误结果：只匹配 | 左右两边任一结果
console.log(tel.match(/010|020\-\d{7,8}/));

//正确结果：所以需要放在原子组中使用
console.log(tel.match(/(010|020)\-\d{7,8}/));
</code></pre></div><p>匹配字符是否包含<code>houdunren</code> 或 <code>hdcms</code></p> <div class="language-text extra-class"><pre class="language-text"><code>const hd = &quot;houdunren&quot;;
console.log(/houdunren|hdcms/.test(hd)); //true
</code></pre></div><h3 id="字符转义"><a href="#字符转义" class="header-anchor">#</a> 字符转义</h3> <p>转义用于改变字符的含义，用来对某个字符有多种语义时的处理。</p> <p>假如有这样的场景，如果我们想通过正则查找<code>/</code>符号，但是 <code>/</code>在正则中有特殊的意义。如果写成<code>///</code>这会造成解析错误，所以要使用转义语法 <code>/\//</code>来匹配。</p> <div class="language-text extra-class"><pre class="language-text"><code>const url = &quot;https://www.houdunren.com&quot;;
console.log(/https:\/\//.test(url)); //true
</code></pre></div><p>使用 <code>RegExp</code> 构建正则时在转义上会有些区别，下面是对象与字面量定义正则时区别</p> <div class="language-text extra-class"><pre class="language-text"><code>let price = 12.23;
//含义1: . 除换行外任何字符 	含义2: .普通点
//含义1: d 字母d   					含义2: \d 数字 0~9
console.log(/\d+\.\d+/.test(price));

//字符串中 \d 与 d 是一样的，所以在 new RegExp 时\d 即为 d
console.log(&quot;\d&quot; == &quot;d&quot;);

//使用对象定义正则时，可以先把字符串打印一样，结果是字面量一样的定义就对了
console.log(&quot;\\d+\\.\\d+&quot;);
let reg = new RegExp(&quot;\\d+\\.\\d+&quot;);
console.log(reg.test(price));
</code></pre></div><p>下面是网址检测中转义符使用</p> <div class="language-text extra-class"><pre class="language-text"><code>let url = &quot;https://www.houdunren.com&quot;;
console.log(/https?:\/\/\w+\.\w+\.\w+/.test(url));
</code></pre></div><h3 id="字符边界"><a href="#字符边界" class="header-anchor">#</a> 字符边界</h3> <p>使用字符边界符用于控制匹配内容的开始与结束约定。</p> <table><thead><tr><th>边界符</th> <th>说明</th></tr></thead> <tbody><tr><td>^</td> <td>匹配字符串的开始</td></tr> <tr><td>$</td> <td>匹配字符串的结束，忽略换行符</td></tr></tbody></table> <p>匹配内容必须以<code>www</code>开始</p> <div class="language-text extra-class"><pre class="language-text"><code>const hd = &quot;www.houdunren.com&quot;;
console.log(/^www/.test(hd)); //true
</code></pre></div><p>匹配内容必须以<code>.com</code>结束</p> <div class="language-text extra-class"><pre class="language-text"><code>const hd = &quot;www.houdunren.com&quot;;
console.log(/\.com$/.test(hd)); //true
</code></pre></div><p>检测用户名长度为 3~6 位，且只能为字母。如果不使用 <code>^与$</code> 限制将得不到正确结果</p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;input type=&quot;text&quot; name=&quot;username&quot; /&gt;
&amp;lt;/body&gt;

&amp;lt;script&gt;
  document
    .querySelector(`[name=&quot;username&quot;]`)
    .addEventListener(&quot;keyup&quot;, function() {
      let res = this.value.match(/^[a-z]{3,6}$/i);
      console.log(res);
      console.log(res ? &quot;正确&quot; : &quot;失败&quot;);
    });
&amp;lt;/script&gt;
</code></pre></div><h2 id="元子字符"><a href="#元子字符" class="header-anchor">#</a> 元子字符</h2> <p>元字符是正则表达式中的最小元素，只代表单一（一个）字符</p> <h3 id="字符列表"><a href="#字符列表" class="header-anchor">#</a> 字符列表</h3> <table><thead><tr><th>元字符</th> <th>说明</th> <th>示例</th></tr></thead> <tbody><tr><td>\d</td> <td>匹配任意一个数字</td> <td>[0-9]</td></tr> <tr><td>\D</td> <td>与除了数字以外的任何一个字符匹配</td> <td>[^0-9]</td></tr> <tr><td>\w</td> <td>与任意一个英文字母,数字或下划线匹配</td> <td>[a-zA-Z_]</td></tr> <tr><td>\W</td> <td>除了字母,数字或下划线外与任何字符匹配</td> <td>[^a-za-z_]</td></tr> <tr><td>\s</td> <td>任意一个空白字符匹配，如空格，制表符<code>\t</code>，换行符<code>\n</code></td> <td>[\n\f\r\t\v]</td></tr> <tr><td>\S</td> <td>除了空白符外任意一个字符匹配</td> <td>[^\n\f\r\t\v]</td></tr> <tr><td>.</td> <td>匹配除换行符外的任意字符</td> <td></td></tr></tbody></table> <h3 id="使用体验"><a href="#使用体验" class="header-anchor">#</a> 使用体验</h3> <p>匹配任意数字</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;houdunren 2010&quot;;
console.log(hd.match(/\d/g)); //[&quot;2&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;]
</code></pre></div><p>匹配所有电话号码</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = `
	张三:010-99999999,李四:020-88888888
`;

let res = hd.match(/\d{3}-\d{7,8}/g);
console.log(res);
</code></pre></div><p>获取所有用户名</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = `
张三:010-99999999,李四:020-88888888`;
let res = hd.match(/[^:\d-,]+/g);
console.log(res);
</code></pre></div><p>匹配任意非数字</p> <div class="language-text extra-class"><pre class="language-text"><code>console.log(/\D/.test(2029)); //false
</code></pre></div><p>匹配字母数字下划线</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;hdcms@&quot;;
console.log(hd.match(/\w/g)); //[&quot;h&quot;, &quot;d&quot;, &quot;c&quot;, &quot;m&quot;, &quot;s&quot;]
</code></pre></div><p>匹配除了字母,数字或下划线外与任何字符匹配</p> <div class="language-text extra-class"><pre class="language-text"><code>console.log(/\W/.test(&quot;@&quot;)); //true
</code></pre></div><p>匹配与任意一个空白字符匹配</p> <div class="language-text extra-class"><pre class="language-text"><code>console.log(/\s/.test(&quot; &quot;)); //true
console.log(/\s/.test(&quot;\n&quot;)); //true
</code></pre></div><p>匹配除了空白符外任意一个字符匹配</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;hdcms@&quot;;
console.log(hd.match(/\S/g)); //[&quot;2&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;,&quot;@&quot;]
</code></pre></div><p>如果要匹配点则需要转义</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = `houdunren@com`;
console.log(/houdunren.com/i.test(hd)); //true
console.log(/houdunren\.com/i.test(hd)); //false
</code></pre></div><p>使用<code>.</code>匹配除换行符外任意字符，下面匹配不到<code>hdcms.com</code> 因为有换行符</p> <div class="language-text extra-class"><pre class="language-text"><code>const url = `
  https://www.houdunren.com
  hdcms.com
`;
console.log(url.match(/.+/)[0]);
</code></pre></div><p>使用<code>/s</code>视为单行模式（忽略换行）时，<code>.</code> 可以匹配所有</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = `
  &amp;lt;span&gt;
    houdunren
    hdcms
  &amp;lt;/span&gt;
`;
let res = hd.match(/&amp;lt;span&gt;.*&amp;lt;\/span&gt;/s);
console.log(res[0]);
</code></pre></div><p>正则中空格会按普通字符对待</p> <div class="language-text extra-class"><pre class="language-text"><code>let tel = `010 - 999999`;
console.log(/\d+-\d+/.test(tel)); //false
console.log(/\d+ - \d+/.test(tel)); //true
</code></pre></div><h3 id="所有字符"><a href="#所有字符" class="header-anchor">#</a> 所有字符</h3> <p>可以使用 <code>[\s\S]</code> 或 <code>[\d\D]</code> 来匹配所有字符</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = `
  &amp;lt;span&gt;
    houdunren
    hdcms
  &amp;lt;/span&gt;
`;
let res = hd.match(/&amp;lt;span&gt;[\s\S]+&amp;lt;\/span&gt;/);
console.log(res[0]);
</code></pre></div><h2 id="模式修饰"><a href="#模式修饰" class="header-anchor">#</a> 模式修饰</h2> <p>正则表达式在执行时会按他们的默认执行方式进行，但有时候默认的处理方式总不能满足我们的需求，所以可以使用模式修正符更改默认方式。</p> <table><thead><tr><th>修饰符</th> <th>说明</th></tr></thead> <tbody><tr><td>i</td> <td>不区分大小写字母的匹配</td></tr> <tr><td>g</td> <td>全局搜索所有匹配内容</td></tr> <tr><td>m</td> <td>视为多行</td></tr> <tr><td>s</td> <td>视为单行忽略换行符，使用<code>.</code> 可以匹配所有字符</td></tr> <tr><td>y</td> <td>从 <code>regexp.lastIndex</code> 开始匹配</td></tr> <tr><td>u</td> <td>正确处理四个字符的 UTF-16 编码</td></tr></tbody></table> <h3 id="i"><a href="#i" class="header-anchor">#</a> i</h3> <p>将所有<code>houdunren.com</code> 统一为小写</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;houdunren.com HOUDUNREN.COM&quot;;
hd = hd.replace(/houdunren\.com/gi, &quot;houdunren.com&quot;);
console.log(hd);
</code></pre></div><h3 id="g"><a href="#g" class="header-anchor">#</a> g</h3> <p>使用 <code>g</code> 修饰符可以全局操作内容</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;houdunren&quot;;
hd = hd.replace(/u/, &quot;@&quot;);
console.log(hd); //没有使用 g 修饰符是，只替换了第一个

let hd = &quot;houdunren&quot;;
hd = hd.replace(/u/g, &quot;@&quot;);
console.log(hd); //使用全局修饰符后替换了全部的 u
</code></pre></div><h3 id="m"><a href="#m" class="header-anchor">#</a> m</h3> <p>用于将内容视为多行匹配，主要是对 <code>^</code>和 <code>$</code> 的修饰</p> <p>将下面是将以 <code>#数字</code>开始的课程解析为对象结构，学习过后面讲到的原子组可以让代码简单些</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = `
  #1 js,200元 #
  #2 php,300元 #
  #9 houdunren.com # 后盾人
  #3 node.js,180元 #
`;
// [{name:'js',price:'200元'}]
let lessons = hd.match(/^\s*#\d+\s+.+\s+#$/gm).map(v =&gt; {
  v = v.replace(/\s*#\d+\s*/, &quot;&quot;).replace(/\s+#/, &quot;&quot;);
  [name, price] = v.split(&quot;,&quot;);
  return { name, price };
});
console.log(JSON.stringify(lessons, null, 2));
</code></pre></div><h3 id="u"><a href="#u" class="header-anchor">#</a> u</h3> <p>每个字符都有属性，如<code>L</code>属性表示是字母，<code>P</code> 表示标点符号，需要结合 <code>u</code> 模式才有效。其他属性简写可以访问 <a href="https://www.unicode.org/Public/UCD/latest/ucd/PropertyValueAliases.txt" target="_blank" rel="noopener noreferrer">属性的别名 (opens new window)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>网站查看。</p> <div class="language-text extra-class"><pre class="language-text"><code>//使用\p{L}属性匹配字母
let hd = &quot;houdunren2010.不断发布教程，加油！&quot;;
console.log(hd.match(/\p{L}+/u));

//使用\p{P}属性匹配标点
console.log(hd.match(/\p{P}+/gu));
</code></pre></div><p>字符也有 unicode 文字系统属性 <code>Script=文字系统</code>，下面是使用 <code>\p{sc=Han}</code> 获取中文字符 <code>han</code>为中文系统，其他语言请查看 <a href="http://www.unicode.org/standard/supported.html" target="_blank" rel="noopener noreferrer">文字语言表(opens new window)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = `
张三:010-99999999,李四:020-88888888`;
let res = hd.match(/\p{sc=Han}+/gu);
console.log(res);
</code></pre></div><p>使用 <code>u</code> 模式可以正确处理四个字符的 UTF-16 字节编码</p> <div class="language-text extra-class"><pre class="language-text"><code>let str = &quot;𝒳𝒴&quot;;
console.table(str.match(/[𝒳𝒴]/)); //结果为乱字符&quot;�&quot;

console.table(str.match(/[𝒳𝒴]/u)); //结果正确 &quot;𝒳&quot;
</code></pre></div><h3 id="lastindex"><a href="#lastindex" class="header-anchor">#</a> lastIndex</h3> <p>RegExp 对象<code>lastIndex</code> 属性可以返回或者设置正则表达式开始匹配的位置</p> <ul><li>必须结合 <code>g</code> 修饰符使用</li> <li>对 <code>exec</code> 方法有效</li> <li>匹配完成时，<code>lastIndex</code> 会被重置为 0</li></ul> <div class="language-text extra-class"><pre class="language-text"><code>let hd = `后盾人不断分享视频教程，后盾人网址是 houdunren.com`;
let reg = /后盾人(.{2})/g;
reg.lastIndex = 10; //从索引10开始搜索
console.log(reg.exec(hd));
console.log(reg.lastIndex);

reg = /\p{sc=Han}/gu;
while ((res = reg.exec(hd))) {
  console.log(res[0]);
}
</code></pre></div><h3 id="y"><a href="#y" class="header-anchor">#</a> y</h3> <p>我们来对比使用 <code>y</code> 与<code>g</code> 模式，使用 <code>g</code> 模式会一直匹配字符串</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;udunren&quot;;
let reg = /u/g;
console.log(reg.exec(hd));
console.log(reg.lastIndex); //3
console.log(reg.exec(hd));
console.log(reg.lastIndex); //3
console.log(reg.exec(hd)); //null
console.log(reg.lastIndex); //0
</code></pre></div><p>但使用<code>y</code> 模式后如果从 <code>lastIndex</code> 开始匹配不成功就不继续匹配了</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;udunren&quot;;
let reg = /u/y;
console.log(reg.exec(hd));
console.log(reg.lastIndex); //1
console.log(reg.exec(hd)); //null
console.log(reg.lastIndex); //0
</code></pre></div><p>因为使用 <code>y</code> 模式可以在匹配不到时停止匹配，在匹配下面字符中的 qq 时可以提高匹配效率</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = `后盾人QQ群:11111111,999999999,88888888
后盾人不断分享视频教程，后盾人网址是 houdunren.com`;

let reg = /(\d+),?/y;
reg.lastIndex = 7;
while ((res = reg.exec(hd))) console.log(res[1]);
</code></pre></div><h2 id="原子表"><a href="#原子表" class="header-anchor">#</a> 原子表</h2> <p>在一组字符中匹配某个元字符，在正则表达式中通过元字符表来完成，就是放到<code>[]</code> (方括号)中。</p> <h3 id="使用语法"><a href="#使用语法" class="header-anchor">#</a> 使用语法</h3> <table><thead><tr><th>原子表</th> <th>说明</th></tr></thead> <tbody><tr><td>[]</td> <td>只匹配其中的一个原子</td></tr> <tr><td>[^]</td> <td>只匹配&quot;除了&quot;其中字符的任意一个原子</td></tr> <tr><td>[0-9]</td> <td>匹配 0-9 任何一个数字</td></tr> <tr><td>[a-z]</td> <td>匹配小写 a-z 任何一个字母</td></tr> <tr><td>[A-Z]</td> <td>匹配大写 A-Z 任何一个字母</td></tr></tbody></table> <h3 id="实例操作"><a href="#实例操作" class="header-anchor">#</a> 实例操作</h3> <p>使用<code>[]</code>匹配其中任意字符即成功，下例中匹配<code>ue</code>任何一个字符，而不会当成一个整体来对待</p> <div class="language-text extra-class"><pre class="language-text"><code>const url = &quot;houdunren.com&quot;;
console.log(/ue/.test(url)); //false
console.log(/[ue]/.test(url)); //true
</code></pre></div><p>日期的匹配</p> <div class="language-text extra-class"><pre class="language-text"><code>let tel = &quot;2022-02-23&quot;;
console.log(tel.match(/\d{4}([-\/])\d{2}\1\d{2}/));
</code></pre></div><p>获取<code>0~3</code>间的任意数字</p> <div class="language-text extra-class"><pre class="language-text"><code>const num = &quot;2&quot;;
console.log(/[0-3]/.test(num)); //true
</code></pre></div><p>匹配<code>a~f</code>间的任意字符</p> <div class="language-text extra-class"><pre class="language-text"><code>const hd = &quot;e&quot;;
console.log(/[a-f]/.test(hd)); //true
</code></pre></div><p>顺序为升序否则将报错</p> <div class="language-text extra-class"><pre class="language-text"><code>const num = &quot;2&quot;;
console.log(/[3-0]/.test(num)); //SyntaxError
</code></pre></div><p>字母也要升序否则也报错</p> <div class="language-text extra-class"><pre class="language-text"><code>const hd = &quot;houdunren.com&quot;;
console.log(/[f-a]/.test(hd)); //SyntaxError
</code></pre></div><p>获取所有用户名</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = `
张三:010-99999999,李四:020-88888888`;
let res = hd.match(/[^:\d-,]+/g);
console.log(res);
</code></pre></div><p>原子表中有些正则字符不需要转义，如果转义也是没问题的，可以理解为在原子表中<code>.</code> 就是小数点</p> <div class="language-text extra-class"><pre class="language-text"><code>let str = &quot;(houdunren.com)+&quot;;
console.table(str.match(/[().+]/g));

//使用转义也没有问题
console.table(str.match(/[\(\)\.\+]/g));
</code></pre></div><p>可以使用 <code>[\s\S]</code> 或 <code>[\d\D]</code>匹配到所有字符包括换行符</p> <div class="language-text extra-class"><pre class="language-text"><code>...
const reg = /[\s\S]+/g;
...
</code></pre></div><p>下面是使用原子表知识删除所有标题</p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;p&gt;后盾人&amp;lt;/p&gt;
  &amp;lt;h1&gt;houdunren.com&amp;lt;/h1&gt;
  &amp;lt;h2&gt;hdcms.com&amp;lt;/h2&gt;
&amp;lt;/body&gt;
&amp;lt;script&gt;
  const body = document.body;
  const reg = /&amp;lt;(h[1-6])&gt;[\s\S]*&amp;lt;\/\1&gt;*/g;
  let content = body.innerHTML.replace(reg, &quot;&quot;);
  document.body.innerHTML = content;
&amp;lt;/script&gt;
</code></pre></div><h2 id="原子组"><a href="#原子组" class="header-anchor">#</a> 原子组</h2> <ul><li>如果一次要匹配多个元子，可以通过元子组完成</li> <li>原子组与原子表的差别在于原子组一次匹配多个元子，而原子表则是匹配任意一个字符</li> <li>元字符组用 <code>()</code> 包裹</li></ul> <p>下面使用原子组匹配 <code>h1</code> 标签，如果想匹配 <code>h2</code> 只需要把前面原子组改为 <code>h2</code> 即可。</p> <div class="language-text extra-class"><pre class="language-text"><code>const hd = `&amp;lt;h1&gt;houdunren.com&amp;lt;/h1&gt;`;
console.log(/&amp;lt;(h1)&gt;.+&amp;lt;\/\1&gt;/.test(hd)); //true
</code></pre></div><h3 id="基本使用"><a href="#基本使用" class="header-anchor">#</a> 基本使用</h3> <p>没有添加 <code>g</code> 模式修正符时只匹配到第一个，匹配到的信息包含以下数据</p> <table><thead><tr><th>变量</th> <th>说明</th></tr></thead> <tbody><tr><td>0</td> <td>匹配到的完整内容</td></tr> <tr><td>1,2....</td> <td>匹配到的原子组</td></tr> <tr><td>index</td> <td>原字符串中的位置</td></tr> <tr><td>input</td> <td>原字符串</td></tr> <tr><td>groups</td> <td>命名分组</td></tr></tbody></table> <p>在<code>match</code>中使用原子组匹配，会将每个组数据返回到结果中</p> <ul><li>0 为匹配到的完成内容</li> <li>1/2 等 为原子级内容</li> <li>index 匹配的开始位置</li> <li>input 原始数据</li> <li>groups 组别名</li></ul> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;houdunren.com&quot;;
console.log(hd.match(/houdun(ren)\.(com)/));
//[&quot;houdunren.com&quot;, &quot;ren&quot;, &quot;com&quot;, index: 0, input: &quot;houdunren.com&quot;, groups: undefined]
</code></pre></div><p>下面使用原子组匹配标题元素</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = `
  &amp;lt;h1&gt;houdunren&amp;lt;/h1&gt;
  &amp;lt;span&gt;后盾人&amp;lt;/span&gt;
  &amp;lt;h2&gt;hdcms&amp;lt;/h2&gt;
`;

console.table(hd.match(/&amp;lt;(h[1-6])[\s\S]*&amp;lt;\/\1&gt;/g));
</code></pre></div><p>检测 <code>0~100</code> 的数值，使用 <code>parseInt</code> 将数值转为 10 进制</p> <div class="language-text extra-class"><pre class="language-text"><code>console.log(/^(\d{1,2}|100)$/.test(parseInt(09, 10)));
</code></pre></div><h3 id="邮箱匹配"><a href="#邮箱匹配" class="header-anchor">#</a> 邮箱匹配</h3> <p>下面使用原子组匹配邮箱</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;2300071698@qq.com&quot;;
let reg = /^[\w\-]+@[\w\-]+\.(com|org|cn|cc|net)$/i;
console.dir(hd.match(reg));
</code></pre></div><p>如果邮箱是以下格式 <code>houdunren@hd.com.cn</code> 上面规则将无效，需要定义以下方式</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = `admin@houdunren.com.cn`;
let reg = /^[\w-]+@([\w-]+\.)+(org|com|cc|cn)$/;
console.log(hd.match(reg));
</code></pre></div><h3 id="引用分组"><a href="#引用分组" class="header-anchor">#</a> 引用分组</h3> <p><code>\n</code> 在匹配时引用原子组， <code>$n</code> 指在替换时使用匹配的组数据。下面将标签替换为<code>p</code>标签</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = `
  &amp;lt;h1&gt;houdunren&amp;lt;/h1&gt;
  &amp;lt;span&gt;后盾人&amp;lt;/span&gt;
  &amp;lt;h2&gt;hdcms&amp;lt;/h2&gt;
`;

let reg = /&amp;lt;(h[1-6])&gt;([\s\S]*)&amp;lt;\/\1&gt;/gi;
console.log(hd.replace(reg, `&amp;lt;p&gt;$2&amp;lt;/p&gt;`));
</code></pre></div><p>如果只希望组参与匹配，便不希望返回到结果中使用 <code>(?:</code> 处理。下面是获取所有域名的示例</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = `
  https://www.houdunren.com
  http://houdunwang.com
  https://hdcms.com
`;

let reg = /https?:\/\/((?:\w+\.)?\w+\.(?:com|org|cn))/gi;
while ((v = reg.exec(hd))) {
  console.dir(v);
}
</code></pre></div><h3 id="分组别名"><a href="#分组别名" class="header-anchor">#</a> 分组别名</h3> <p>如果希望返回的组数据更清晰，可以为原子组编号，结果将保存在返回的 <code>groups</code>字段中</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;&amp;lt;h1&gt;houdunren.com&amp;lt;/h1&gt;&quot;;
console.dir(hd.match(/&amp;lt;(?&amp;lt;tag&gt;h[1-6])[\s\S]*&amp;lt;\/\1&gt;/));
</code></pre></div><p>组别名使用 <code>?&lt;&gt;</code> 形式定义，下面将标签替换为<code>p</code>标签</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = `
  &amp;lt;h1&gt;houdunren&amp;lt;/h1&gt;
  &amp;lt;span&gt;后盾人&amp;lt;/span&gt;
  &amp;lt;h2&gt;hdcms&amp;lt;/h2&gt;
`;
let reg = /&amp;lt;(?&amp;lt;tag&gt;h[1-6])&gt;(?&amp;lt;con&gt;[\s\S]*)&amp;lt;\/\1&gt;/gi;
console.log(hd.replace(reg, `&amp;lt;p&gt;$&amp;lt;con&gt;&amp;lt;/p&gt;`));
</code></pre></div><p>获取链接与网站名称组成数组集合</p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;a href=&quot;https://www.houdunren.com&quot;&gt;后盾人&amp;lt;/a&gt;
  &amp;lt;a href=&quot;https://www.hdcms.com&quot;&gt;hdcms&amp;lt;/a&gt;
  &amp;lt;a href=&quot;https://www.sina.com.cn&quot;&gt;新浪&amp;lt;/a&gt;
&amp;lt;/body&gt;

&amp;lt;script&gt;
  let body = document.body.innerHTML;
  let reg = /&amp;lt;a\s*.+?(?&amp;lt;link&gt;https?:\/\/(\w+\.)+(com|org|cc|cn)).*&gt;(?&amp;lt;title&gt;.+)&amp;lt;\/a&gt;/gi;
  const links = [];
  for (const iterator of body.matchAll(reg)) {
    links.push(iterator[&quot;groups&quot;]);
  }
  console.log(links);
&amp;lt;/script&gt;
</code></pre></div><h2 id="重复匹配"><a href="#重复匹配" class="header-anchor">#</a> 重复匹配</h2> <h3 id="基本使用-2"><a href="#基本使用-2" class="header-anchor">#</a> 基本使用</h3> <p>如果要重复匹配一些内容时我们要使用重复匹配修饰符，包括以下几种。</p> <table><thead><tr><th>符号</th> <th>说明</th></tr></thead> <tbody><tr><td>*</td> <td>重复零次或更多次</td></tr> <tr><td>+</td> <td>重复一次或更多次</td></tr> <tr><td>?</td> <td>重复零次或一次</td></tr> <tr><td>{n}</td> <td>重复 n 次</td></tr> <tr><td>{n,}</td> <td>重复 n 次或更多次</td></tr> <tr><td>{n,m}</td> <td>重复 n 到 m 次</td></tr></tbody></table> <blockquote><p>因为正则最小单位是元字符，而我们很少只匹配一个元字符如 a、b 所以基本上重复匹配在每条正则语句中都是必用到的内容。</p></blockquote> <p>默认情况下重复选项对单个字符进行重复匹配，即不是贪婪匹配</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;hdddd&quot;;
console.log(hd.match(/hd+/i)); //hddd
</code></pre></div><p>使用原子组后则对整个组重复匹配</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;hdddd&quot;;
console.log(hd.match(/(hd)+/i)); //hd
</code></pre></div><p>下面是验证坐机号的正则</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;010-12345678&quot;;
console.log(/0\d{2,3}-\d{7,8}/.exec(hd));
</code></pre></div><p>验证用户名只能为 3~8 位的字母或数字，并以字母开始</p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;input type=&quot;text&quot; name=&quot;username&quot; /&gt;
&amp;lt;/body&gt;
&amp;lt;script&gt;
  let input = document.querySelector(`[name=&quot;username&quot;]`);
  input.addEventListener(&quot;keyup&quot;, e =&gt; {
    const value = e.target.value;
    let state = /^[a-z][\w]{2,7}$/i.test(value);
    console.log(
      state ? &quot;正确！&quot; : &quot;用户名只能为3~8位的字母或数字，并以字母开始&quot;
    );
  });
&amp;lt;/script&gt;
</code></pre></div><p>验证密码必须包含大写字母并在 5~10 位之间</p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
&amp;lt;input type=&quot;text&quot; name=&quot;password&quot; /&gt;
&amp;lt;/body&gt;
&amp;lt;script&gt;
let input = document.querySelector(`[name=&quot;password&quot;]`);
input.addEventListener(&quot;keyup&quot;, e =&gt; {
  const value = e.target.value.trim();
  const regs = [/^[a-zA-Z0-9]{5,10}$/, /[A-Z]/];
  let state = regs.every(v =&gt; v.test(value));
  console.log(state ? &quot;正确！&quot; : &quot;密码必须包含大写字母并在5~10位之间&quot;);
});
&amp;lt;/script&gt;
</code></pre></div><h3 id="禁止贪婪"><a href="#禁止贪婪" class="header-anchor">#</a> 禁止贪婪</h3> <p>正则表达式在进行重复匹配时，默认是贪婪匹配模式，也就是说会尽量匹配更多内容，但是有的时候我们并不希望他匹配更多内容，这时可以通过?进行修饰来禁止重复匹配</p> <table><thead><tr><th>使用</th> <th>说明</th></tr></thead> <tbody><tr><td>*?</td> <td>重复任意次，但尽可能少重复</td></tr> <tr><td>+?</td> <td>重复 1 次或更多次，但尽可能少重复</td></tr> <tr><td>??</td> <td>重复 0 次或 1 次，但尽可能少重复</td></tr> <tr><td>{n,m}?</td> <td>重复 n 到 m 次，但尽可能少重复</td></tr> <tr><td>{n,}?</td> <td>重复 n 次以上，但尽可能少重复</td></tr></tbody></table> <p>下面是禁止贪婪的语法例子</p> <div class="language-text extra-class"><pre class="language-text"><code>let str = &quot;aaa&quot;;
console.log(str.match(/a+/)); //aaa
console.log(str.match(/a+?/)); //a
console.log(str.match(/a{2,3}?/)); //aa
console.log(str.match(/a{2,}?/)); //aa
</code></pre></div><p>将所有 span 更换为<code>h4</code> 并描红，并在内容前加上 <code>后盾人-</code></p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;main&gt;
    &amp;lt;span&gt;houdunwang&amp;lt;/span&gt;
    &amp;lt;span&gt;hdcms.com&amp;lt;/span&gt;
    &amp;lt;span&gt;houdunren.com&amp;lt;/span&gt;
  &amp;lt;/main&gt;
&amp;lt;/body&gt;
&amp;lt;script&gt;
  const main = document.querySelector(&quot;main&quot;);
  const reg = /&amp;lt;span&gt;([\s\S]+?)&amp;lt;\/span&gt;/gi;
  main.innerHTML = main.innerHTML.replace(reg, (v, p1) =&gt; {
    console.log(p1);
    return `&amp;lt;h4 style=&quot;color:red&quot;&gt;后盾人-${p1}&amp;lt;/h4&gt;`;
  });
&amp;lt;/script&gt;
</code></pre></div><p>下面是使用禁止贪婪查找页面中的标题元素</p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;h1&gt;
    houdunren.com
  &amp;lt;/h1&gt;
  &amp;lt;h2&gt;hdcms.com&amp;lt;/h2&gt;
  &amp;lt;h3&gt;&amp;lt;/H3&gt;
  &amp;lt;H1&gt;&amp;lt;/H1&gt;
&amp;lt;/body&gt;

&amp;lt;script&gt;
  let body = document.body.innerHTML;
  let reg = /&amp;lt;(h[1-6])&gt;[\s\S]*?&amp;lt;\/\1&gt;/gi;
  console.table(body.match(reg));
&amp;lt;/script&gt;
</code></pre></div><h2 id="全局匹配"><a href="#全局匹配" class="header-anchor">#</a> 全局匹配</h2> <h3 id="问题分析"><a href="#问题分析" class="header-anchor">#</a> 问题分析</h3> <p>下面是使用<code>match</code> 全局获取页面中标签内容，但并不会返回匹配细节</p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;h1&gt;houdunren.com&amp;lt;/h1&gt;
  &amp;lt;h2&gt;hdcms.com&amp;lt;/h2&gt;
  &amp;lt;h1&gt;后盾人&amp;lt;/h1&gt;
&amp;lt;/body&gt;

&amp;lt;script&gt;
  function elem(tag) {
    const reg = new RegExp(&quot;&amp;lt;(&quot; + tag + &quot;)&gt;.+?&amp;lt;\.\\1&gt;&quot;, &quot;g&quot;);
    return document.body.innerHTML.match(reg);
  }
  console.table(elem(&quot;h1&quot;));
&amp;lt;/script&gt;
</code></pre></div><h3 id="matchall"><a href="#matchall" class="header-anchor">#</a> matchAll</h3> <p>在新浏览器中支持使用 <code>matchAll</code> 操作，并返回迭代对象</p> <blockquote><p>需要添加 <code>g</code> 修饰符</p></blockquote> <div class="language-text extra-class"><pre class="language-text"><code>let str = &quot;houdunren&quot;;
let reg = /[a-z]/ig;
for (const iterator of str.matchAll(reg)) {
  console.log(iterator);
}
</code></pre></div><p>在原型定义 <code>matchAll</code>方法，用于在旧浏览器中工作，不需要添加<code>g</code> 模式运行</p> <div class="language-text extra-class"><pre class="language-text"><code>String.prototype.matchAll = function(reg) {
  let res = this.match(reg);
  if (res) {
    let str = this.replace(res[0], &quot;^&quot;.repeat(res[0].length));
    let match = str.matchAll(reg) || [];
    return [res, ...match];
  }
};
let str = &quot;houdunren&quot;;
console.dir(str.matchAll(/(U)/i));
</code></pre></div><h3 id="exec"><a href="#exec" class="header-anchor">#</a> exec</h3> <p>使用 <code>g</code> 模式修正符并结合 <code>exec</code> 循环操作可以获取结果和匹配细节</p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;h1&gt;houdunren.com&amp;lt;/h1&gt;
  &amp;lt;h2&gt;hdcms.com&amp;lt;/h2&gt;
  &amp;lt;h1&gt;后盾人&amp;lt;/h1&gt;
&amp;lt;/body&gt;
&amp;lt;script&gt;
  function search(string, reg) {
    const matchs = [];
    while ((data = reg.exec( string))) {
      matchs.push(data);
    }
    return matchs;
  }
  console.log(search(document.body.innerHTML, /&amp;lt;(h[1-6])&gt;[\s\S]+?&amp;lt;\/\1&gt;/gi));
&amp;lt;/script&gt;
</code></pre></div><p>使用上面定义的函数来检索字符串中的网址</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = `https://hdcms.com
https://www.sina.com.cn
https://www.houdunren.com`;

let res = search(hd, /https?:\/\/(\w+\.)?(\w+\.)+(com|cn)/gi);
console.dir(res);
</code></pre></div><h2 id="字符方法"><a href="#字符方法" class="header-anchor">#</a> 字符方法</h2> <p>下面介绍的方法是 <code>String</code> 提供的支持正则表达式的方法</p> <h3 id="search"><a href="#search" class="header-anchor">#</a> search</h3> <p>search() 方法用于检索字符串中指定的子字符串，也可以使用正则表达式搜索，返回值为索引位置</p> <div class="language-text extra-class"><pre class="language-text"><code>let str = &quot;houdunren.com&quot;;
console.log(str.search(&quot;com&quot;));
</code></pre></div><p>使用正则表达式搜索</p> <div class="language-text extra-class"><pre class="language-text"><code>console.log(str.search(/\.com/i));
</code></pre></div><h3 id="match"><a href="#match" class="header-anchor">#</a> match</h3> <p>直接使用字符串搜索</p> <div class="language-text extra-class"><pre class="language-text"><code>let str = &quot;houdunren.com&quot;;
console.log(str.match(&quot;com&quot;));
</code></pre></div><p>使用正则获取内容，下面是简单的搜索字符串</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;houdunren&quot;;
let res = hd.match(/u/);
console.log(res);
console.log(res[0]); //匹配的结果
console.log(res[index]); //出现的位置
</code></pre></div><p>如果使用 <code>g</code> 修饰符时，就不会有结果的详细信息了（可以使用 exec），下面是获取所有 h1~6 的标题元素</p> <div class="language-text extra-class"><pre class="language-text"><code>let body = document.body.innerHTML;
let result = body.match(/&amp;lt;(h[1-6])&gt;[\s\S]+?&amp;lt;\/\1&gt;/g);
console.table(result);
</code></pre></div><h3 id="matchall-2"><a href="#matchall-2" class="header-anchor">#</a> matchAll</h3> <p>在新浏览器中支持使用 <code>matchAll</code> 操作，并返回迭代对象</p> <div class="language-text extra-class"><pre class="language-text"><code>let str = &quot;houdunren&quot;;
let reg = /[a-z]/ig;
for (const iterator of str.matchAll(reg)) {
  console.log(iterator);
}
</code></pre></div><h3 id="split"><a href="#split" class="header-anchor">#</a> split</h3> <p>用于使用字符串或正则表达式分隔字符串，下面是使用字符串分隔日期</p> <div class="language-text extra-class"><pre class="language-text"><code>let str = &quot;2023-02-12&quot;;
console.log(str.split(&quot;-&quot;)); //[&quot;2023&quot;, &quot;02&quot;, &quot;12&quot;]
</code></pre></div><p>如果日期的连接符不确定，那就要使用正则操作了</p> <div class="language-text extra-class"><pre class="language-text"><code>let str = &quot;2023/02-12&quot;;
console.log(str.split(/-|\//));
</code></pre></div><h3 id="replace"><a href="#replace" class="header-anchor">#</a> replace</h3> <p><code>replace</code> 方法不仅可以执行基本字符替换，也可以进行正则替换，下面替换日期连接符</p> <div class="language-text extra-class"><pre class="language-text"><code>let str = &quot;2023/02/12&quot;;
console.log(str.replace(/\//g, &quot;-&quot;)); //2023-02-12
</code></pre></div><p>替换字符串可以插入下面的特殊变量名：</p> <table><thead><tr><th>变量</th> <th>说明</th></tr></thead> <tbody><tr><td><code>$$</code></td> <td>插入一个 &quot;$&quot;。</td></tr> <tr><td><code>$&amp;</code></td> <td>插入匹配的子串。</td></tr> <tr><td>$`</td> <td>插入当前匹配的子串左边的内容。</td></tr> <tr><td><code>$'</code></td> <td>插入当前匹配的子串右边的内容。</td></tr> <tr><td><code>$n</code></td> <td>假如第一个参数是 <code>RegExp</code> 对象，并且 n 是个小于 100 的非负整数，那么插入第 n 个括号匹配的字符串。提示：索引是从 1 开始</td></tr></tbody></table> <p>在后盾人前后添加三个<code>=</code></p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;=后盾人=&quot;;
console.log(hd.replace(/后盾人/g, &quot;$`$`$&amp;amp;$'$'&quot;));
</code></pre></div><p>把电话号用 <code>-</code> 连接</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;(010)99999999 (020)8888888&quot;;
console.log(hd.replace(/\((\d{3,4})\)(\d{7,8})/g, &quot;$1-$2&quot;));
</code></pre></div><p>把所有<code>教育</code>汉字加上链接 <code>https://www.houdunren.com</code></p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  在线教育是一种高效的学习方式，教育是一生的事业
&amp;lt;/body&gt;
&amp;lt;script&gt;
  const body = document.body;
  body.innerHTML = body.innerHTML.replace(
    /教育/g,
    `&amp;lt;a href=&quot;https://www.houdunren.com&quot;&gt;$&amp;amp;&amp;lt;/a&gt;`
  );
&amp;lt;/script&gt;
</code></pre></div><p>为链接添加上<code>https</code> ，并补全 <code>www.</code></p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;main&gt;
    &amp;lt;a style=&quot;color:red&quot; href=&quot;http://www.hdcms.com&quot;&gt;
      开源系统
    &amp;lt;/a&gt;
    &amp;lt;a id=&quot;l1&quot; href=&quot;http://houdunren.com&quot;&gt;后盾人&amp;lt;/a&gt;
    &amp;lt;a href=&quot;http://yahoo.com&quot;&gt;雅虎&amp;lt;/a&gt;
    &amp;lt;h4&gt;http://www.hdcms.com&amp;lt;/h4&gt;
  &amp;lt;/main&gt;
&amp;lt;/body&gt;
&amp;lt;script&gt;
  const main = document.querySelector(&quot;body main&quot;);
  const reg = /(&amp;lt;a.*href=['&quot;])(http)(:\/\/)(www\.)?(hdcms|houdunren)/gi;
  main.innerHTML = main.innerHTML.replace(reg, (v, ...args) =&gt; {
    args[1] += &quot;s&quot;;
    args[3] = args[3] || &quot;www.&quot;;
    return args.splice(0, 5).join(&quot;&quot;);
  });
&amp;lt;/script&gt;
</code></pre></div><p>将标题标签全部替换为 <code>p</code> 标签</p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;h1&gt;houdunren.com&amp;lt;/h1&gt;
  &amp;lt;h2&gt;hdcms.com&amp;lt;/h2&gt;
  &amp;lt;h1&gt;后盾人&amp;lt;/h1&gt;
&amp;lt;/body&gt;

&amp;lt;script&gt;
  const reg = /&amp;lt;(h[1-6])&gt;(.*?)&amp;lt;\/\1&gt;/g;
  const body = document.body.innerHTML;
  const html = body.replace(reg, function(str, tag, content) {
    return `&amp;lt;p&gt;${content}&amp;lt;/p&gt;`;
  });
  document.body.innerHTML = html;
&amp;lt;/script&gt;
</code></pre></div><p>删除页面中的 <code>h1~h6</code> 标签</p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;h1&gt;houdunren.com&amp;lt;/h1&gt;
  &amp;lt;h2&gt;hdcms.com&amp;lt;/h2&gt;
  &amp;lt;h1&gt;后盾人&amp;lt;/h1&gt;
&amp;lt;/body&gt;
&amp;lt;script&gt;
  const reg = /&amp;lt;(h[1-6])&gt;(.*?)&amp;lt;\/\1&gt;/g;
  const body = document.body.innerHTML;
  const html = body.replace(reg, &quot;&quot;);
  document.body.innerHTML = html;
&amp;lt;/script&gt;
</code></pre></div><p><strong>回调函数</strong></p> <p>replace 支持回调函数操作，用于处理复杂的替换逻辑</p> <table><thead><tr><th>变量名</th> <th>代表的值</th></tr></thead> <tbody><tr><td><code>match</code></td> <td>匹配的子串。（对应于上述的$&amp;。）</td></tr> <tr><td><code>p1,p2, ...</code></td> <td>假如 replace()方法的第一个参数是一个 <code>RegExp</code> 对象，则代表第 n 个括号匹配的字符串。（对应于上述的$1，$2 等。）例如，如果是用 <code>/(\a+)(\b+)/</code> 这个来匹配，<code>p1</code> 就是匹配的 <code>\a+</code>，<code>p2</code> 就是匹配的 <code>\b+</code>。</td></tr> <tr><td><code>offset</code></td> <td>匹配到的子字符串在原字符串中的偏移量。（比如，如果原字符串是 <code>'abcd'</code>，匹配到的子字符串是 <code>'bc'</code>，那么这个参数将会是 1）</td></tr> <tr><td><code>string</code></td> <td>被匹配的原字符串。</td></tr> <tr><td>NamedCaptureGroup</td> <td>命名捕获组匹配的对象</td></tr></tbody></table> <p>使用回调函数将 <code>后盾人</code> 添加上链接</p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;div class=&quot;content&quot;&gt;
    后盾人不断更新优质视频教程
  &amp;lt;/div&gt;
&amp;lt;/body&gt;

&amp;lt;script&gt;
  let content = document.querySelector(&quot;.content&quot;);
  content.innerHTML = content.innerHTML.replace(&quot;后盾人&quot;, function(
    search,
    pos,
    source
  ) {
    return `&amp;lt;a href=&quot;https://www.houdunren.com&quot;&gt;${search}&amp;lt;/a&gt;`;
  });
&amp;lt;/script&gt;
</code></pre></div><p>为所有标题添加上 <code>hot</code> 类</p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;div class=&quot;content&quot;&gt;
    &amp;lt;h1&gt;后盾人&amp;lt;/h1&gt;
    &amp;lt;h2&gt;houdunren.com&amp;lt;/h2&gt;
    &amp;lt;h1&gt;后盾人&amp;lt;/h1&gt;
  &amp;lt;/div&gt;
&amp;lt;/body&gt;
&amp;lt;script&gt;
  let content = document.querySelector(&quot;.content&quot;);
  let reg = /&amp;lt;(h[1-6])&gt;([\s\S]*?)&amp;lt;\/\1&gt;/gi;
  content.innerHTML = content.innerHTML.replace(
    reg,
    (
      search, //匹配到的字符
      p1, //第一个原子组
      p2, //第二个原子组
      index, //索引位置
      source //原字符
    ) =&gt; {
      return `
    &amp;lt;${p1} class=&quot;hot&quot;&gt;${p2}&amp;lt;/${p1}&gt;
    `;
    }
  );
&amp;lt;/script&gt;
</code></pre></div><h2 id="正则方法"><a href="#正则方法" class="header-anchor">#</a> 正则方法</h2> <p>下面是 <code>RegExp</code> 正则对象提供的操作方法</p> <h3 id="test"><a href="#test" class="header-anchor">#</a> test</h3> <p>检测输入的邮箱是否合法</p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;input type=&quot;text&quot; name=&quot;email&quot; /&gt;
&amp;lt;/body&gt;

&amp;lt;script&gt;
  let email = document.querySelector(`[name=&quot;email&quot;]`);
  email.addEventListener(&quot;keyup&quot;, e =&gt; {
    console.log(/^\w+@\w+\.\w+$/.test(e.target.value));
  });
&amp;lt;/script&gt;
</code></pre></div><h3 id="exec-2"><a href="#exec-2" class="header-anchor">#</a> exec</h3> <p>不使用 <code>g</code> 修饰符时与 <code>match</code> 方法使用相似，使用 <code>g</code> 修饰符后可以循环调用直到全部匹配完。</p> <ul><li>使用 <code>g</code> 修饰符多次操作时使用同一个正则，即把正则定义为变量使用</li> <li>使用 <code>g</code> 修饰符最后匹配不到时返回 <code>null</code></li></ul> <p>计算内容中后盾人出现的次数</p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;div class=&quot;content&quot;&gt;
    后盾人不断分享视频教程，后盾人网址是 houdunren.com
  &amp;lt;/div&gt;
&amp;lt;/body&gt;

&amp;lt;script&gt;
  let content = document.querySelector(&quot;.content&quot;);
  let reg = /(?&amp;lt;tag&gt;后盾)人/g;
  let num = 0;
  while ((result = reg.exec(content.innerHTML))) {
    num++;
  }
  console.log(`后盾人共出现${num}次`);
&amp;lt;/script&gt;
</code></pre></div><h2 id="断言匹配"><a href="#断言匹配" class="header-anchor">#</a> 断言匹配</h2> <p>断言虽然写在扩号中但它不是组，所以不会在匹配结果中保存，可以将断言理解为正则中的条件。</p> <h3 id="exp"><a href="#exp" class="header-anchor">#</a> (?=exp)</h3> <p><strong>零宽先行断言</strong> <code>?=exp</code> 匹配后面为 <code>exp</code> 的内容</p> <p>把后面是<code>教程</code> 的后盾人汉字加上链接</p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;main&gt;
    后盾人不断分享视频教程，学习后盾人教程提升编程能力。
  &amp;lt;/main&gt;
&amp;lt;/body&gt;

&amp;lt;script&gt;
  const main = document.querySelector(&quot;main&quot;);
  const reg = /后盾人(?=教程)/gi;
  main.innerHTML = main.innerHTML.replace(
    reg,
    v =&gt; `&amp;lt;a href=&quot;https://houdunren.com&quot;&gt;${v}&amp;lt;/a&gt;`
  );
&amp;lt;/script&gt;
</code></pre></div><p>下面是将价格后面 添加上 <code>.00</code></p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;script&gt;
  let lessons = `
    js,200元,300次
    php,300.00元,100次
    node.js,180元,260次
  `;
  let reg = /(\d+)(.00)?(?=元)/gi;
  lessons = lessons.replace(reg, (v, ...args) =&gt; {
    args[1] = args[1] || &quot;.00&quot;;
    return args.splice(0, 2).join(&quot;&quot;);
  });
  console.log(lessons);
&amp;lt;/script&gt;
</code></pre></div><p>使用断言验证用户名必须为五位，下面正则体现断言是不是组，并且不在匹配结果中记录</p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;input type=&quot;text&quot; name=&quot;username&quot; /&gt;
&amp;lt;/body&gt;

&amp;lt;script&gt;
  document
    .querySelector(`[name=&quot;username&quot;]`)
    .addEventListener(&quot;keyup&quot;, function() {
      let reg = /^(?=[a-z]{5}$)/i;
      console.log(reg.test(this.value));
    });
&amp;lt;/script&gt;
</code></pre></div><h3 id="exp-2"><a href="#exp-2" class="header-anchor">#</a> (?&lt;=exp)</h3> <p><strong>零宽后行断言</strong> <code>?&lt;=exp</code> 匹配前面为 <code>exp</code> 的内容</p> <p>匹配前面是<code>houdunren</code> 的数字</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;houdunren789hdcms666&quot;;
let reg = /(?&amp;lt;=houdunren)\d+/i;
console.log(hd.match(reg)); //789
</code></pre></div><p>匹配前后都是数字的内容</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;houdunren789hdcms666&quot;;
let reg = /(?&amp;lt;=\d)[a-z]+(?=\d{3})/i;
console.log(hd.match(reg));
</code></pre></div><p>所有超链接替换为<code>houdunren.com</code></p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;a href=&quot;https://baidu.com&quot;&gt;百度&amp;lt;/a&gt;
  &amp;lt;a href=&quot;https://yahoo.com&quot;&gt;雅虎&amp;lt;/a&gt;
&amp;lt;/body&gt;
&amp;lt;script&gt;
  const body = document.body;
  let reg = /(?&amp;lt;=&amp;lt;a.*href=(['&quot;])).+?(?=\1)/gi;
  // console.log(body.innerHTML.match(reg));
  body.innerHTML = body.innerHTML.replace(reg, &quot;https://houdunren.com&quot;);
&amp;lt;/script&gt;
</code></pre></div><p>下例中将 <code>后盾人</code> 后面的视频添加上链接</p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;h1&gt;后盾人视频不断录制案例丰富的视频教程&amp;lt;/h1&gt;
&amp;lt;/body&gt;

&amp;lt;script&gt;
  let h1 = document.querySelector(&quot;h1&quot;);
  let reg = /(?&amp;lt;=后盾人)视频/;
  h1.innerHTML = h1.innerHTML.replace(reg, str =&gt; {
    return `&amp;lt;a href=&quot;https://www.houdunren.com&quot;&gt;${str}&amp;lt;/a&gt;`;
  });
&amp;lt;/script&gt;
</code></pre></div><p>将电话的后四位模糊处理</p> <div class="language-text extra-class"><pre class="language-text"><code>let users = `
  向军电话: 12345678901
  后盾人电话: 98745675603
`;

let reg = /(?&amp;lt;=\d{7})\d+\s*/g;
users = users.replace(reg, str =&gt; {
  return &quot;*&quot;.repeat(4);
});
console.log(users); //向军电话: 1234567****后盾人电话: 9874567****
</code></pre></div><p>获取标题中的内容</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = `&amp;lt;h1&gt;后盾人视频不断录制案例丰富的视频教程&amp;lt;/h1&gt;`;
let reg = /(?&amp;lt;=&amp;lt;h1&gt;).*(?=&amp;lt;\/h1&gt;)/g;
console.log(hd.match(reg));
</code></pre></div><h3 id="exp-3"><a href="#exp-3" class="header-anchor">#</a> (?!exp)</h3> <p><strong>零宽负向先行断言</strong> 后面不能出现 <code>exp</code> 指定的内容</p> <p>使用 <code>(?!exp)</code>字母后面不能为两位数字</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;houdunren12&quot;;
let reg = /[a-z]+(?!\d{2})$/i;
console.table(reg.exec(hd));
</code></pre></div><p>下例为用户名中不能出现<code>向军</code></p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;main&gt;
    &amp;lt;input type=&quot;text&quot; name=&quot;username&quot; /&gt;
  &amp;lt;/main&gt;
&amp;lt;/body&gt;
&amp;lt;script&gt;
  const input = document.querySelector(`[name=&quot;username&quot;]`);
  input.addEventListener(&quot;keyup&quot;, function() {
    const reg = /^(?!.*向军.*)[a-z]{5,6}$/i;
    console.log(this.value.match(reg));
  });
&amp;lt;/script&gt;
</code></pre></div><h3 id="exp-4"><a href="#exp-4" class="header-anchor">#</a> (?&lt;!exp)</h3> <p><strong>零宽负向后行断言</strong> 前面不能出现 exp 指定的内容</p> <p>获取前面不是数字的字符</p> <div class="language-text extra-class"><pre class="language-text"><code>let hd = &quot;hdcms99houdunren&quot;;
let reg = /(?&amp;lt;!\d+)[a-z]+/i;
console.log(reg.exec(hd)); //hdcms
</code></pre></div><p>把所有不是以 <code>https://oss.houdunren.com</code> 开始的静态资源替换为新网址</p> <div class="language-text extra-class"><pre class="language-text"><code>&amp;lt;body&gt;
  &amp;lt;main&gt;
    &amp;lt;a href=&quot;https://www.houdunren.com/1.jpg&quot;&gt;1.jpg&amp;lt;/a&gt;
    &amp;lt;a href=&quot;https://oss.houdunren.com/2.jpg&quot;&gt;2.jpg&amp;lt;/a&gt;
    &amp;lt;a href=&quot;https://cdn.houdunren.com/2.jpg&quot;&gt;3.jpg&amp;lt;/a&gt;
    &amp;lt;a href=&quot;https://houdunren.com/2.jpg&quot;&gt;3.jpg&amp;lt;/a&gt;
  &amp;lt;/main&gt;
&amp;lt;/body&gt;
&amp;lt;script&gt;
  const main = document.querySelector(&quot;main&quot;);
  const reg = /https:\/\/(\w+)?(?&amp;lt;!oss)\..+?(?=\/)/gi;
  main.innerHTML = main.innerHTML.replace(reg, v =&gt; {
    console.log(v);
    return &quot;https://oss.houdunren.com&quot;;
  });
&amp;lt;/script&gt;
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----><div class="kanbanniang" data-v-5775ee02><div class="banniang-container" style="display:;" data-v-5775ee02><div class="messageBox" style="right:68px;bottom:190px;height:60px;display:none;" data-v-5775ee02>
        欢迎来到 火龙果文档
      </div> <div class="operation" style="right:90px;bottom:40px;display:;" data-v-5775ee02><i class="kbnfont kbn-ban-home ban-home" data-v-5775ee02></i> <i class="kbnfont kbn-ban-message message" data-v-5775ee02></i> <i class="kbnfont kbn-ban-close close" data-v-5775ee02></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-5775ee02><i class="kbnfont kbn-ban-info info" data-v-5775ee02></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:none;" data-v-5775ee02></i></div> <canvas id="banniang" width="150" height="220" class="live2d" style="right:90px;bottom:-20px;opacity:0.9;" data-v-5775ee02></canvas></div> <div class="showBanNiang" style="display:none;" data-v-5775ee02>
      看板娘
    </div></div></div></div>
    <script src="/plugin/assets/js/app.c9215cbb.js" defer></script><script src="/plugin/assets/js/2.3109c390.js" defer></script><script src="/plugin/assets/js/58.1a3b2a75.js" defer></script>
  </body>
</html>
